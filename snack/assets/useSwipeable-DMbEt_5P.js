import{r as T}from"./index-CJ_LmFaV.js";const A="Left",X="Right",Y="Up",_="Down",d={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},y={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},x="mousemove",D="mouseup",$="touchend",B="touchmove",C="touchstart";function H(t,u,i,r){return t>u?i>0?X:A:r>0?_:Y}function P(t,u){if(u===0)return t;const i=Math.PI/180*u,r=t[0]*Math.cos(i)+t[1]*Math.sin(i),l=t[1]*Math.cos(i)-t[0]*Math.sin(i);return[r,l]}function N(t,u){const i=n=>{const e="touches"in n;e&&n.touches.length>1||t((c,o)=>{o.trackMouse&&!e&&(document.addEventListener(x,r),document.addEventListener(D,O));const{clientX:f,clientY:S}=e?n.touches[0]:n,g=P([f,S],o.rotationAngle);return o.onTouchStartOrOnMouseDown&&o.onTouchStartOrOnMouseDown({event:n}),Object.assign(Object.assign(Object.assign({},c),y),{initial:g.slice(),xy:g,start:n.timeStamp||0})})},r=n=>{t((e,c)=>{const o="touches"in n;if(o&&n.touches.length>1)return e;if(n.timeStamp-e.start>c.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:f,clientY:S}=o?n.touches[0]:n,[g,U]=P([f,S],c.rotationAngle),m=g-e.xy[0],E=U-e.xy[1],b=Math.abs(m),j=Math.abs(E),v=(n.timeStamp||0)-e.start,k=Math.sqrt(b*b+j*j)/(v||1),I=[m/(v||1),E/(v||1)],p=H(b,j,m,E),R=typeof c.delta=="number"?c.delta:c.delta[p.toLowerCase()]||d.delta;if(b<R&&j<R&&!e.swiping)return e;const M={absX:b,absY:j,deltaX:m,deltaY:E,dir:p,event:n,first:e.first,initial:e.initial,velocity:k,vxvy:I};M.first&&c.onSwipeStart&&c.onSwipeStart(M),c.onSwiping&&c.onSwiping(M);let L=!1;return(c.onSwiping||c.onSwiped||c[`onSwiped${p}`])&&(L=!0),L&&c.preventScrollOnSwipe&&c.trackTouch&&n.cancelable&&n.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:M,swiping:!0})})},l=n=>{t((e,c)=>{let o;if(e.swiping&&e.eventData){if(n.timeStamp-e.start<c.swipeDuration){o=Object.assign(Object.assign({},e.eventData),{event:n}),c.onSwiped&&c.onSwiped(o);const f=c[`onSwiped${o.dir}`];f&&f(o)}}else c.onTap&&c.onTap({event:n});return c.onTouchEndOrOnMouseUp&&c.onTouchEndOrOnMouseUp({event:n}),Object.assign(Object.assign(Object.assign({},e),y),{eventData:o})})},h=()=>{document.removeEventListener(x,r),document.removeEventListener(D,O)},O=n=>{h(),l(n)},w=(n,e)=>{let c=()=>{};if(n&&n.addEventListener){const o=Object.assign(Object.assign({},d.touchEventOptions),e.touchEventOptions),f=[[C,i,o],[B,r,Object.assign(Object.assign({},o),e.preventScrollOnSwipe?{passive:!1}:{})],[$,l,o]];f.forEach(([S,g,U])=>n.addEventListener(S,g,U)),c=()=>f.forEach(([S,g])=>n.removeEventListener(S,g))}return c},a={ref:n=>{n!==null&&t((e,c)=>{if(e.el===n)return e;const o={};return e.el&&e.el!==n&&e.cleanUpTouch&&(e.cleanUpTouch(),o.cleanUpTouch=void 0),c.trackTouch&&n&&(o.cleanUpTouch=w(n,c)),Object.assign(Object.assign(Object.assign({},e),{el:n}),o)})}};return u.trackMouse&&(a.onMouseDown=i),[a,w]}function W(t,u,i,r){return!u.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?u.preventScrollOnSwipe!==i.preventScrollOnSwipe||u.touchEventOptions.passive!==i.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,u)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,u)})}function q(t){const{trackMouse:u}=t,i=T.useRef(Object.assign({},y)),r=T.useRef(Object.assign({},d)),l=T.useRef(Object.assign({},r.current));l.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},d),t);let h;for(h in d)r.current[h]===void 0&&(r.current[h]=d[h]);const[O,w]=T.useMemo(()=>N(s=>i.current=s(i.current,r.current),{trackMouse:u}),[u]);return i.current=W(i.current,r.current,l.current,w),O}const F="data-swipe-directions";function K({availableDirections:t,enabled:u=!0,...i}){const r=T.useRef(!0);return{...q(u?{...i,onSwipeStart:s=>{var a;if(t){if(!t.includes(s.dir)){r.current=!1;return}if(!i.onSwipeStart)return;s.event.stopPropagation()}(a=i.onSwipeStart)==null||a.call(i,s)},onSwiping:s=>{var a;if(t){if(!r.current)return;s.event.stopPropagation()}(a=i.onSwiping)==null||a.call(i,s)},onSwiped:s=>{var a;if(t){if(!r.current){r.current=!0;return}s.event.stopPropagation()}(a=i.onSwiped)==null||a.call(i,s)}}:{}),[F]:u&&t?t.join(" "):void 0}}export{F as D,K as u};
