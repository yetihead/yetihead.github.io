import{j as s}from"./jsx-runtime-BTJTZTIL.js";import{c as K}from"./index-DUmpqB7p.js";import{r as u}from"./index-CJ_LmFaV.js";import{u as z}from"./index-JZGyZbA2.js";import{u as O,g as U,a as Z,D as G,b as J,S as Q,T as X,F as Y}from"./TimePickerBase-C7FkWbU9.js";import{u as $}from"./PopoverPrivate-CnKgsFAm.js";import{u as uu}from"./LocaleProvider-CyhbxqE1.js";const eu="_timePickerWrapper_1tabn_1",tu={timePickerWrapper:eu},f=new Date,t=()=>{};function p({className:l,size:D=Q.M,fitToContainer:r=!0,value:E,defaultValue:v,onChangeValue:F,onFocusLeave:B,"data-test-id":n,navigationStartRef:A,showSeconds:c=!0,today:i}){const[C,g]=z(E,v,F),d=$(g),[e,y]=u.useState(),[V,h]=u.useState(void 0),T=typeof i=="number"?new Date(i):i;u.useEffect(()=>{if(!(e!=null&&e[0]))return;const o=e[0].getHours()??0,a=e[0].getMinutes()??0,W=e[0].getSeconds()??0;d({hours:o,minutes:a,seconds:W})},[e,d]);const b=u.useCallback(o=>{const a=o[0];y([a,a])},[]),{dateAndTime:R,onTimeChange:P,onDateChange:S,onDateAndTimeChange:w,isDateFilled:_,isTimeFilled:q,isDateAndTimeFilled:x}=O({showSeconds:c,value:C}),k=u.useRef(null),L=u.useRef(null),N=u.useRef({focusItem:()=>{}}),j=u.useRef({focusItem:()=>{}}),I=u.useRef({focusItem:()=>{}}),M=u.useMemo(()=>U(n),[n]),{lang:m}=uu(),H=u.useMemo(()=>Z({localeProp:G,ctxLang:m}),[m]);return s.jsx("div",{className:K(tu.timePickerWrapper,l),"data-fit-to-container":r||void 0,"data-test-id":n,children:s.jsxs(J.Provider,{value:{mode:"time",locale:H,size:D,value:e,fitToContainer:r,focus:V,setValue:b,setFocus:h,getTestId:M,onFocusLeave:B,navigationStartRef:A,showSeconds:c,dateAndTime:R,onTimeChange:P,onDateAndTimeChange:w,isTimeFilled:q,applyButtonRef:k,currentButtonRef:L,hoursKeyboardNavigationRef:N,minutesKeyboardNavigationRef:j,secondsKeyboardNavigationRef:I,today:T,viewMode:"month",showHolidays:!1,viewDate:f,referenceDate:f,preselectedRange:void 0,viewShift:0,setViewMode:t,setViewShift:t,startPreselect:t,continuePreselect:t,completePreselect:t,restartPreselect:t,buildCellProps:()=>({isDisabled:!1,isHoliday:!1}),onDateChange:S,isDateAndTimeFilled:x,isDateFilled:_},children:[s.jsx(X,{showDivider:!1}),s.jsx(Y,{})]})})}try{p.displayName="TimePicker",p.__docgenInfo={description:"",displayName:"TimePicker",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Выбранное значение.",name:"value",required:!1,type:{name:"TimeValue"}},today:{defaultValue:null,description:"Дата сегодняшнего дня",name:"today",required:!1,type:{name:"number | Date"}},defaultValue:{defaultValue:null,description:"Значение по-умолчанию для uncontrolled.",name:"defaultValue",required:!1,type:{name:"TimeValue"}},onChangeValue:{defaultValue:null,description:"Колбек выбора значения",name:"onChangeValue",required:!1,type:{name:"((value?: TimeValue) => void)"}},showSeconds:{defaultValue:{value:"true"},description:"Показывать ли секунды",name:"showSeconds",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},className:{defaultValue:null,description:"CSS-класс контейнера",name:"className",required:!1,type:{name:"string"}},fitToContainer:{defaultValue:{value:"true"},description:"Отключает предустановленный размер, заставляя компонент подстраиваться к размеру контейнра: (width: 100%, height: 100%).",name:"fitToContainer",required:!1,type:{name:"boolean"}},onFocusLeave:{defaultValue:null,description:"Колбек потери фокуса. Вызывается со значением `next`, когда фокус покидает компонент, передвигаясь вперед, по клавише `tab`. Со значением `prev` - по клавише стрелки вверх или `shift + tab`.",name:"onFocusLeave",required:!1,type:{name:"((direction: FocusDirection) => void)"}},navigationStartRef:{defaultValue:null,description:"Ссылка на управление первым элементом навигации",name:"navigationStartRef",required:!1,type:{name:"RefObject<{ focus(): void; }>"}}}}}catch{}export{p as T};
