import{j as i}from"./jsx-runtime-BTJTZTIL.js";import{r as m}from"./index-CJ_LmFaV.js";import{c as K}from"./index-DUmpqB7p.js";import{e as de}from"./componentPropsProcessors-UJEZy8aQ.js";import{u as ke}from"./useValueControl-C51frgGe.js";import{C as hu}from"./Checkbox-uZV6WJ28.js";import{T as De}from"./TruncateString-BPmgFnBz.js";import{S as Eu}from"./Switch-CYqDG2NM.js";import{C as yu}from"./index-C7IVzcIX.js";import{C as vu}from"./index-BLj3vrxU.js";import{D as _u}from"./Dropdown-uG1Hplv7.js";import{C as gu}from"./index-DLGJiw2b.js";import{r as Iu}from"./index-Bxu_udwM.js";import{m as uu}from"./index-B7wZyJkK.js";import{C as Cu}from"./index-BQAaeyfQ.js";import{S as tu}from"./index-Baw9oej9.js";import{u as Le}from"./LocaleProvider-CyhbxqE1.js";import{I as ve}from"./index-BkOiuzeN.js";import{D as pe}from"./Divider-C1X9zrkx.js";import{S as bu}from"./Spinner-DZPrD8kc.js";import{S as Du}from"./Scroll-B3e6J9cA.js";import{B as xu}from"./ButtonFunction-DkDZEdUd.js";import{u as Au,m as Su}from"./useButtonNavigation-CVCsehRW.js";import{u as Bu}from"./useClearButton-DMWmUR1d.js";import{I as Vu}from"./InputPrivate-C6kWfrUd.js";import{S as qu}from"./Sun-CLMO8Tpr.js";const H={default:"~main",pinTop:"~pinTop",pinBottom:"~pinBottom",footer:"~footer",search:"~search",dropFocus:"~dropFocus"},Fu="_accordion_1ubxl_1",Mu="_contentWrapper_1ubxl_14",Nu="_content_1ubxl_14",_e={accordion:Fu,contentWrapper:Mu,content:Nu};function xe({children:u,expanded:s,className:e,header:t,...n}){return i.jsxs("div",{className:K(_e.accordion,e),role:"menuitem","aria-haspopup":!0,"aria-expanded":s,...de(n),children:[t,i.jsx("div",{className:_e.contentWrapper,"aria-hidden":!s,children:i.jsx("div",{className:_e.content,"data-content":!0,children:s&&u})})]})}try{xe.displayName="CollapseBlockPrivate",xe.__docgenInfo={description:"",displayName:"CollapseBlockPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"ReactNode"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const he=m.createContext({value:void 0,onChange:void 0,mode:void 0});function Ae(u){return"mode"in u&&u.mode==="multiple"}function Se(u){return"mode"in u&&u.mode==="single"}function wu({children:u}){return i.jsx(he.Provider,{value:{mode:"none"},children:u})}function Ru({value:u,defaultValue:s,onChange:e,children:t}){const[n,a]=ke({value:u,defaultValue:s,onChange:e}),l=m.useCallback(r=>a(o=>{if(r!==o)return r}),[a]);return i.jsx(he.Provider,{value:{value:n,onChange:l,mode:"single",isSelectionSingle:!0,isSelectionMultiple:!1,setValue:a},children:t})}function ju({value:u,defaultValue:s,onChange:e,children:t}){const[n,a]=ke({value:u,defaultValue:s,onChange:e}),l=m.useCallback(r=>{a(o=>{if(Array.isArray(o))return o.includes(r)?o.filter(d=>d!==r):o.concat(r);if(o===void 0)return Array.isArray(r)?r:[r]})},[a]);return i.jsx(he.Provider,{value:{value:n,onChange:l,mode:"multiple",isSelectionSingle:!1,isSelectionMultiple:!0,setValue:a},children:t})}function Je({children:u,...s}){return Se(s)?i.jsx(Ru,{...s,children:u}):Ae(s)?i.jsx(ju,{...s,children:u}):i.jsx(wu,{children:u})}function ue(){return m.useContext(he)}try{Ae.displayName="isSelectionMultipleProps",Ae.__docgenInfo={description:"",displayName:"isSelectionMultipleProps",props:{}}}catch{}try{Se.displayName="isSelectionSingleProps",Se.__docgenInfo={description:"",displayName:"isSelectionSingleProps",props:{}}}catch{}try{Je.displayName="SelectionProvider",Je.__docgenInfo={description:"",displayName:"SelectionProvider",props:{defaultValue:{defaultValue:null,description:"Начальное состояние",name:"defaultValue",required:!1,type:{name:"any"}},value:{defaultValue:null,description:"Controlled состояние",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"Controlled обработчик измения состояния",name:"onChange",required:!1,type:{name:"OnChangeHandler<any>"}},mode:{defaultValue:null,description:"Режим выбора",name:"mode",required:!1,type:{name:"enum",value:[{value:'"single"'},{value:'"multiple"'},{value:'"none"'}]}}}}}catch{}const nu=m.createContext({}),au=()=>m.useContext(nu),zu=m.createContext({}),su=()=>m.useContext(zu),lu=m.createContext({flattenItems:{},focusFlattenItems:{},firstItemId:H.default});function G(){return m.useContext(lu)}function Tu({size:u,marker:s,flattenItems:e,focusFlattenItems:t,contentRender:n,firstItemId:a,virtualized:l}){return{size:u,marker:s,contentRender:n,flattenItems:e,focusFlattenItems:t,firstItemId:a,virtualized:l}}function Ue({children:u,...s}){return i.jsx(lu.Provider,{value:Tu(s),children:u})}try{Ue.displayName="NewListContextProvider",Ue.__docgenInfo={description:"",displayName:"NewListContextProvider",props:{size:{defaultValue:null,description:"Размер списка",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},marker:{defaultValue:null,description:"Отображать ли маркер у выбранного жлемента списка",name:"marker",required:!1,type:{name:"boolean"}},contentRender:{defaultValue:null,description:"Рендер функция основного контента айтема",name:"contentRender",required:!1,type:{name:"((props: ContentRenderProps) => ReactNode)"}},virtualized:{defaultValue:null,description:"",name:"virtualized",required:!1,type:{name:"boolean"}},flattenItems:{defaultValue:null,description:"",name:"flattenItems",required:!0,type:{name:"Record<string, FlattenItem>"}},focusFlattenItems:{defaultValue:null,description:"",name:"focusFlattenItems",required:!0,type:{name:"Record<string, FocusFlattenItem>"}},firstItemId:{defaultValue:null,description:"",name:"firstItemId",required:!1,type:{name:"ItemId"}}}}}catch{}const ku=m.createContext({handleListKeyDownFactory:()=>()=>{}}),Lu=()=>m.useContext(ku),Ou=m.createContext({closeDroplist:()=>{},closeDroplistOnItemClick:!1}),Pu=()=>m.useContext(Ou),Oe=u=>{u.stopPropagation()},Hu={s:"xs",m:"s",l:"m"},Wu="_separatorWithLabel_1p4tc_1",Ku="_label_1p4tc_17",Gu="_separatorWithoutLabel_1p4tc_82",$u="_divider_1p4tc_117",Xu="_selectButton_1p4tc_123",ae={separatorWithLabel:Wu,label:Ku,separatorWithoutLabel:Gu,divider:$u,selectButton:Xu};function fe({label:u,truncate:s,divider:e,mode:t="secondary",selectButton:n}){const{size:a="s"}=G(),{t:l}=Le("List"),r=m.useMemo(()=>{if(!n)return null;const{onClick:o,checked:d,itemRef:c,label:g}=n;return i.jsx("span",{className:ae.selectButton,"data-size":a,"data-weight":e&&t||void 0,children:i.jsx(xu,{size:Hu[a],tabIndex:0,onClick:f=>{o==null||o(f),f.preventDefault(),f.stopPropagation()},onFocus:Oe,ref:c,label:g??l(d?"groupSelectButton.reset":"groupSelectButton.select")})})},[e,t,n,a,l]);return u?i.jsxs("div",{className:ae.separatorWithLabel,"data-size":a,children:[i.jsx("span",{className:ae.label,"data-mode":t,children:i.jsx(De,{variant:s==null?void 0:s.variant,text:u,maxLines:1})}),i.jsxs("div",{style:{flex:1},children:[r,e&&i.jsx(pe,{weight:t==="primary"?"regular":"light",className:ae.divider})]})]}):e?i.jsx("div",{className:ae.separatorWithoutLabel,"data-size":a,children:i.jsx(pe,{weight:"regular"})}):null}try{fe.displayName="Separator",fe.__docgenInfo={description:"",displayName:"Separator",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:'{ variant?: "middle" | "end"; }'}},mode:{defaultValue:{value:"secondary"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},selectButton:{defaultValue:null,description:"",name:"selectButton",required:!1,type:{name:"{ onClick?(e: MouseEvent<HTMLElement, MouseEvent>): void; indeterminate?: boolean; checked?: boolean; itemRef?: ForwardedRef<...> | undefined; label?: string | undefined; } | undefined"}}}}}catch{}const Ju="_listEmptyStateWrapper_wis6u_1",ge={listEmptyStateWrapper:Ju};function Be({dataError:u,dataFiltered:s,hasNoItems:e,emptyStates:t,loading:n,size:a}){return n?null:u?i.jsx("div",{className:ge.listEmptyStateWrapper,children:i.jsx(ve,{...t.errorDataState,size:a,align:"vertical"})}):s&&e?i.jsx("div",{className:ge.listEmptyStateWrapper,children:i.jsx(ve,{...t.noResultsState,size:a,align:"vertical","data-test-id":"list__no-results"})}):!s&&e?i.jsx("div",{className:ge.listEmptyStateWrapper,children:i.jsx(ve,{...t.noDataState,size:a,align:"vertical","data-test-id":"list__no-data"})}):null}try{Be.displayName="ListEmptyState",Be.__docgenInfo={description:"",displayName:"ListEmptyState",props:{emptyStates:{defaultValue:null,description:"",name:"emptyStates",required:!0,type:{name:"{ noDataState: EmptyStateProps; noResultsState: EmptyStateProps; errorDataState: EmptyStateProps; }"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},hasNoItems:{defaultValue:null,description:"",name:"hasNoItems",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"s"'},{value:'"m"'},{value:'"l"'}]}}}}}catch{}function Uu({noDataState:u,noResultsState:s,errorDataState:e}){const{t}=Le("List");return m.useMemo(()=>{const n={icon:{icon:tu,appearance:"neutral",decor:!0},description:t("noData.description"),...u},a={description:t("noResults.description"),...s},l={icon:{icon:Cu,appearance:"neutral",decor:!0},description:t("errorData.description"),...e};return{noDataState:n,noResultsState:a,errorDataState:l}},[e,u,s,t])}const Zu="_headline_zxt1a_1",Yu="_label_zxt1a_5",Qu="_caption_zxt1a_11",et="_description_zxt1a_20",ut="_content_zxt1a_24",se={headline:Zu,label:Yu,caption:Qu,description:et,content:ut},tt={option:1,description:2,variant:"end"};function Ve({truncate:u,caption:s,description:e,option:t,className:n,disabled:a,...l}){const{size:r="s"}=G(),o=m.useMemo(()=>({...tt,...u}),[u]);return i.jsxs("div",{className:K(se.content,n),...de(l),"data-size":r??"s","data-disabled":a||void 0,children:[i.jsxs("div",{className:se.headline,children:[i.jsx("div",{className:se.label,children:i.jsx(De,{variant:o.variant,text:String(t),maxLines:o.option,"data-test-id":"list__base-item-option"})}),s&&i.jsx("span",{className:se.caption,children:s})]}),e&&i.jsx("div",{className:se.description,children:i.jsx(De,{text:e,maxLines:o.description,"data-test-id":"list__base-item-description"})})]})}try{Ve.displayName="ItemContent",Ve.__docgenInfo={description:"",displayName:"ItemContent",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},option:{defaultValue:null,description:"",name:"option",required:!0,type:{name:"string | number"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:"TruncateProps"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const nt=u=>`${H.footer}__${u}`,ru=(u,s)=>[u,s].join("-"),D4=u=>ru(H.default,u),at="_itemWrapper_166nh_1",st="_listItem_166nh_40",qe={itemWrapper:at,listItem:st};function iu(u){return u&&!("items"in u)}function ou(u){return u&&"items"in u&&u.type==="collapse"}function Pe(u){return u&&"items"in u&&u.type==="next-list"}function re(u){return u&&"items"in u&&u.type==="group"}function Ze(u){return u&&"items"in u&&u.type==="group-select"}function lt(u){return typeof u=="object"&&u.option!==void 0}const x4=iu,A4=ou,S4=Pe,B4=re;function V4({items:u,prefix:s,parentId:e}){const t={},n={};function a({item:c,idx:g,prefix:f,parentId:p=H.default}){const E=f!==void 0?ru(f,g):String(g),h=(re(c)?void 0:c.id)??E;if(iu(c))return t[h]={...c,items:[],allChildIds:[],id:h},n[E]={key:E,originalId:h,id:E,disabled:c.disabled,parentId:p,items:[],allChildIds:[],itemRef:c.itemRef||m.createRef()},{id:h,children:[h],autoId:E,focusChildren:[E]};let y=[],_=[];const I=[],N=[],{items:q,...w}=c,j=re(c)?p??H.default:E,B=q.filter(v=>!v.hidden);for(let v=0;v<B.length;v++){const{id:C,children:A,autoId:F,focusChildren:R}=a({item:B[v],idx:v,prefix:h,parentId:j});N.push(F),I.push(C),y=y.concat(A),_=_.concat(R)}const b=[...new Set(y.concat(I))],M=[...new Set(_.concat(N))];return t[h]={...w,id:h,items:[],allChildIds:b},n[E]={key:E,originalId:h,id:E,parentId:p,items:N,allChildIds:M,disabled:(c.type==="collapse"||c.type==="next-list")&&c.disabled,type:c.type,itemRef:re(c)?void 0:c.itemRef??m.createRef()},{id:h,children:b,autoId:E,focusChildren:M}}const l=[];let r=[];const o=u.filter(c=>!c.hidden);for(let c=0;c<o.length;c++){const{id:g,children:f,autoId:p}=a({item:o[c],idx:c,prefix:s,parentId:e});l.push(p),r.push(g),r=r.concat(f)}const d=[...new Set(r)];return{focusCloseChildIds:l,allChildIds:d,flattenItems:t,focusFlattenItems:n}}function rt({focusFlattenItems:u,focusCloseChildIds:s,openCollapseItems:e,isSelectionMultiple:t}){const n=[],a=[];function l(r){r.forEach(o=>{const d=u[o];if(d.type==="group"){l(d.items);return}if(!d.disabled){if(d.type==="group-select"){t&&n.push(d.id),l(d.items);return}n.push(d.id),d.type&&(a.push(o),e.includes(d.originalId)&&l(d.items))}})}return l(s),{ids:n,expandedIds:a}}const it={s:"s",m:"s",l:"m"},ot="_checkbox_1rmvi_3",dt="_beforeContent_1rmvi_13",ct="_expandableIcon_1rmvi_28",mt="_markerContainer_1rmvi_35",pt="_droplistItem_1rmvi_54",ft="_innerWrapper_1rmvi_91",ht="_content_1rmvi_118",U={checkbox:ot,beforeContent:dt,expandableIcon:ct,markerContainer:mt,droplistItem:pt,innerWrapper:ft,content:ht};function ie({beforeContent:u,afterContent:s,content:e,onClick:t,onMouseDown:n,id:a,expandIcon:l,disabled:r,open:o,itemRef:d,switch:c,showSwitchIcon:g,onKeyDown:f,onFocus:p,indeterminate:E,checked:h,onSelect:y,onOpenNestedList:_,isParentNode:I,className:N,inactive:q,itemWrapRender:w,...j}){const B=!q,{size:b="s",marker:M,contentRender:v,firstItemId:C,focusFlattenItems:A}=G(),{level:F=0}=au(),{closeDroplist:R,closeDroplistOnItemClick:z}=Pu(),{value:T,onChange:X,mode:W,isSelectionSingle:S,isSelectionMultiple:$}=ue(),L=S?h??T===a:h??(T==null?void 0:T.includes(a??"")),te=()=>{X==null||X(a)},Ee=x=>{r||n==null||n(x)},O=x=>{p==null||p(x),x.stopPropagation()},ne=()=>{I&&y?y():te()},J=x=>{r||(t==null||t(x),B&&(I||te()),!$&&z&&R())},Y=x=>{if(f==null||f(x),x.key==="ArrowRight"&&_){_(x),x.preventDefault(),x.stopPropagation();return}(x.code==="Space"||x.key==="Enter"||x.key===" ")&&($&&I&&y&&y(),!I&&te(),!I&&(J==null||J(x)),x.stopPropagation(),x.preventDefault())},Q=x=>{I&&x.stopPropagation()},D=de(j),P=i.jsx("div",{className:K(qe.itemWrapper,U.innerWrapper,N),"data-inactive":q||void 0,"data-disabled":r||void 0,"data-variant":W||void 0,"data-checked":I&&L||!I&&L&&!c||void 0,children:i.jsxs("li",{"data-type":"outside",role:"menuitem","data-test-id":D["data-test-id"]||"list__base-item_"+a,ref:d,className:K(qe.listItem,U.droplistItem),"data-size":b,onClick:J,onMouseDown:Ee,tabIndex:C&&a===A[C].originalId?0:-1,"data-non-pointer":q&&!t,"data-variant":W||void 0,"data-open":o||void 0,onKeyDown:Y,onFocus:O,style:{"--level":F},"data-level-one":F===1||void 0,"data-level-more-one":F>1||void 0,"data-checked":I&&(E||L)||L&&!c||void 0,children:[!c&&S&&M&&!I&&B&&i.jsx("div",{className:U.markerContainer,"data-test-id":"list__base-item-marker"}),!c&&$&&B&&i.jsx("div",{className:U.checkbox,children:i.jsx(hu,{size:it[b??"s"],disabled:r,tabIndex:-1,onChange:I?ne:void 0,checked:L,"data-test-id":"list__base-item-checkbox",onClick:Q,indeterminate:E})}),u&&i.jsx("div",{className:U.beforeContent,children:u}),e&&lt(e)?(v==null?void 0:v({id:a,content:e,disabled:r}))??i.jsx(Ve,{disabled:r,...e}):i.jsxs("div",{className:U.content,children:[" ",e," "]}),s,c&&B&&i.jsx(Eu,{disabled:r,checked:L,"data-test-id":"list__base-item-switch",showIcon:g}),!c&&l&&i.jsx("span",{className:U.expandableIcon,children:l})]})});return w?w(P):P}try{ie.displayName="BaseItem",ie.__docgenInfo={description:"",displayName:"BaseItem",props:{id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},switch:{defaultValue:null,description:"Флаг отображения состояния выбранного элемента через switch",name:"switch",required:!1,type:{name:"boolean"}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},inactive:{defaultValue:null,description:`Флаг отображения отключения реакции на любое css состояние (hover/focus и тд)
<br>
Так же элемент пропадает из навигации с клавиатуры, и не может быть выбран (selection)`,name:"inactive",required:!1,type:{name:"boolean"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},expandIcon:{defaultValue:null,description:"",name:"expandIcon",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"(() => void)"}},isParentNode:{defaultValue:null,description:"",name:"isParentNode",required:!1,type:{name:"boolean"}},onOpenNestedList:{defaultValue:null,description:"",name:"onOpenNestedList",required:!1,type:{name:"((e?: KeyboardEvent<HTMLElement>) => void)"}}}}}catch{}function Fe({id:u,disabled:s,allChildIds:e,items:t,...n}){const{level:a=0}=au(),{openCollapseItems:l=[],toggleOpenCollapseItem:r}=su(),{value:o,isSelectionSingle:d,isSelectionMultiple:c}=ue(),{indeterminate:g,handleOnSelect:f,checked:p}=oe({id:u,allChildIds:e}),E=!!l.includes(u??""),h=!!(g&&!E&&d&&o&&e.includes(o)||c&&p),y=m.useCallback(()=>{r==null||r(u??"")},[u,r]),_=Z(t),I=N=>{var q;r==null||r(u??""),(q=n.onClick)==null||q.call(n,N)};return i.jsx(xe,{header:i.jsx(ie,{...n,id:u,disabled:s,expandIcon:E?i.jsx(yu,{}):i.jsx(vu,{}),onClick:I,isParentNode:!0,onOpenNestedList:y,checked:h,indeterminate:g,onSelect:s?void 0:f}),expanded:E,"data-test-id":`list__accordion-item-${u}`,children:i.jsx(nu.Provider,{value:{level:a+1},children:_})})}try{Fe.displayName="AccordionItem",Fe.__docgenInfo={description:"",displayName:"AccordionItem",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"collapse"'}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}}}}}catch{}function Me({label:u,truncate:s,divider:e,items:t,mode:n,id:a,itemRef:l,allChildIds:r,selectButtonLabel:o}){const{indeterminate:d,checked:c,handleOnSelect:g}=oe({id:a,allChildIds:r}),f=Z(t);return i.jsxs(i.Fragment,{children:[i.jsx(fe,{label:u,truncate:s,divider:e,mode:n,selectButton:{indeterminate:d,checked:c,itemRef:l,onClick:g,label:o}}),f]})}try{Me.displayName="GroupSelectItem",Me.__docgenInfo={description:"",displayName:"GroupSelectItem",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"ItemId"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},truncate:{defaultValue:null,description:"",name:"truncate",required:!1,type:{name:'{ variant?: "middle" | "end"; }'}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},divider:{defaultValue:null,description:"",name:"divider",required:!1,type:{name:"boolean"}},selectButtonLabel:{defaultValue:null,description:"",name:"selectButtonLabel",required:!1,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}}}}}catch{}function ee(u,s,e){let t=e.initialDeps??[],n;return()=>{var a,l,r,o;let d;e.key&&((a=e.debug)!=null&&a.call(e))&&(d=Date.now());const c=u();if(!(c.length!==t.length||c.some((p,E)=>t[E]!==p)))return n;t=c;let f;if(e.key&&((l=e.debug)!=null&&l.call(e))&&(f=Date.now()),n=s(...c),e.key&&((r=e.debug)!=null&&r.call(e))){const p=Math.round((Date.now()-d)*100)/100,E=Math.round((Date.now()-f)*100)/100,h=E/16,y=(_,I)=>{for(_=String(_);_.length<I;)_=" "+_;return _};console.info(`%c⏱ ${y(E,5)} /${y(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(o=e==null?void 0:e.onChange)==null||o.call(e,n),n}}function Ie(u,s){if(u===void 0)throw new Error("Unexpected undefined");return u}const Et=(u,s)=>Math.abs(u-s)<1,yt=(u,s,e)=>{let t;return function(...n){u.clearTimeout(t),t=u.setTimeout(()=>s.apply(this,n),e)}},vt=u=>u,_t=u=>{const s=Math.max(u.startIndex-u.overscan,0),e=Math.min(u.endIndex+u.overscan,u.count-1),t=[];for(let n=s;n<=e;n++)t.push(n);return t},gt=(u,s)=>{const e=u.scrollElement;if(!e)return;const t=u.targetWindow;if(!t)return;const n=l=>{const{width:r,height:o}=l;s({width:Math.round(r),height:Math.round(o)})};if(n(e.getBoundingClientRect()),!t.ResizeObserver)return()=>{};const a=new t.ResizeObserver(l=>{const r=l[0];if(r!=null&&r.borderBoxSize){const o=r.borderBoxSize[0];if(o){n({width:o.inlineSize,height:o.blockSize});return}}n(e.getBoundingClientRect())});return a.observe(e,{box:"border-box"}),()=>{a.unobserve(e)}},Ye={passive:!0},It=typeof window>"u"?!0:"onscrollend"in window,Ct=(u,s)=>{const e=u.scrollElement;if(!e)return;const t=u.targetWindow;if(!t)return;let n=0;const a=u.options.useScrollendEvent&&It?()=>{}:yt(t,()=>{s(n,!1)},u.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:c,isRtl:g}=u.options;n=c?e.scrollLeft*(g&&-1||1):e.scrollTop,a(),s(n,d)},r=l(!0),o=l(!1);return o(),e.addEventListener("scroll",r,Ye),e.addEventListener("scrollend",o,Ye),()=>{e.removeEventListener("scroll",r),e.removeEventListener("scrollend",o)}},bt=(u,s,e)=>{if(s!=null&&s.borderBoxSize){const t=s.borderBoxSize[0];if(t)return Math.round(t[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(u.getBoundingClientRect()[e.options.horizontal?"width":"height"])},Dt=(u,{adjustments:s=0,behavior:e},t)=>{var n,a;const l=u+s;(a=(n=t.scrollElement)==null?void 0:n.scrollTo)==null||a.call(n,{[t.options.horizontal?"left":"top"]:l,behavior:e})};class xt{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(n=>{n.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var n;(n=t())==null||n.disconnect(),e=null},observe:n=>{var a;return(a=t())==null?void 0:a.observe(n,{box:"border-box"})},unobserve:n=>{var a;return(a=t())==null?void 0:a.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{typeof n>"u"&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:vt,rangeExtractor:_t,onChange:()=>{},measureElement:bt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var t,n;(n=(t=this.options).onChange)==null||n.call(t,this,e)},this.maybeNotify=ee(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,a=new Map;for(let l=t-1;l>=0;l--){const r=e[l];if(n.has(r.lane))continue;const o=a.get(r.lane);if(o==null||r.end>o.end?a.set(r.lane,r):r.end<o.end&&n.set(r.lane,!0),n.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,r)=>l.end===r.end?l.index-r.index:l.end-r.end)[0]:void 0},this.getMeasurementOptions=ee(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,a,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:a,enabled:l}),{key:!1}),this.getMeasurements=ee(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:a,enabled:l},r)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,o);for(let c=o;c<e;c++){const g=a(c),f=this.options.lanes===1?d[c-1]:this.getFurthestMeasurement(d,c),p=f?f.end+this.options.gap:t+n,E=r.get(g),h=typeof E=="number"?E:this.options.estimateSize(c),y=p+h,_=f?f.lane:c%this.options.lanes;d[c]={index:c,start:p,size:h,end:y,key:g,lane:_}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ee(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,t,n)=>this.range=e.length>0&&t>0?At({measurements:e,outerSize:t,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ee(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,t,n,a)=>t===null?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),a=this.measurementsCache[n];if(!a)return;const l=a.key,r=this.elementsCache.get(l);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const a=this.itemSizeCache.get(n.key)??n.size,l=t-a;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((t,n)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(n))});return}this._measureElement(e,void 0)},this.getVirtualItems=ee(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let a=0,l=e.length;a<l;a++){const r=e[a],o=t[r];n.push(o)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(t.length!==0)return Ie(t[du(0,t.length-1,n=>Ie(t[n]).start,e)])},this.getOffsetForAlignment=(e,t)=>{const n=this.getSize(),a=this.getScrollOffset();t==="auto"&&e>=a+n&&(t="end"),t==="end"&&(e-=n);const l=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-n;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const a=this.getSize(),l=this.getScrollOffset();if(t==="auto")if(n.end>=l+a-this.options.scrollPaddingEnd)t="end";else if(n.start<=l+this.options.scrollPaddingStart)t="start";else return[l,t];const r=n.start-this.options.scrollPaddingStart+(n.size-a)/2;switch(t){case"center":return[this.getOffsetForAlignment(r,t),t];case"end":return[this.getOffsetForAlignment(n.end+this.options.scrollPaddingEnd,t),t];default:return[this.getOffsetForAlignment(n.start-this.options.scrollPaddingStart,t),t]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(e,t);if(!a)return;const[l,r]=a;this._scrollToOffset(l,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[d]=Ie(this.getOffsetForIndex(e,r));Et(d,this.getScrollOffset())||this.scrollToIndex(e,{align:r,behavior:n})}else this.scrollToIndex(e,{align:r,behavior:n})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;return t.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((e=t[t.length-1])==null?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(a=>a.end)),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const du=(u,s,e,t)=>{for(;u<=s;){const n=(u+s)/2|0,a=e(n);if(a<t)u=n+1;else if(a>t)s=n-1;else return n}return u>0?u-1:0};function At({measurements:u,outerSize:s,scrollOffset:e}){const t=u.length-1,a=du(0,t,r=>u[r].start,e);let l=a;for(;l<t&&u[l].end<e+s;)l++;return{startIndex:a,endIndex:l}}const Qe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function St(u){const s=m.useReducer(()=>({}),{})[1],e={...u,onChange:(n,a)=>{var l;a?Iu.flushSync(s):s(),(l=u.onChange)==null||l.call(u,n,a)}},[t]=m.useState(()=>new xt(e));return t.setOptions(e),Qe(()=>t._didMount(),[]),Qe(()=>t._willUpdate()),t}function Bt(u){return St({observeElementRect:gt,observeElementOffset:Ct,scrollToFn:Dt,...u})}const Vt="_listContainer_d0dnw_1",qt="_wrapper_d0dnw_27",Ft="_scrollContainerS_d0dnw_46",Mt="_scrollContainerM_d0dnw_51",Nt="_scrollContainerL_d0dnw_56",me={listContainer:Vt,wrapper:qt,scrollContainerS:Ft,scrollContainerM:Mt,scrollContainerL:Nt},wt=48,Rt=40,jt=32,zt={m:Rt,s:jt,l:wt},Tt="_loader_1dfg5_1",kt="_scrollStub_1dfg5_35",Lt="_footer_1dfg5_41",Ot="_virtualizedContainer_1dfg5_53",Pt="_virtualizedPositionBox_1dfg5_58",le={loader:Tt,scrollStub:kt,footer:Lt,virtualizedContainer:Ot,virtualizedPositionBox:Pt},Ne=m.forwardRef(({items:u,pinTop:s,pinBottom:e,onKeyDown:t,onBlur:n,onFocus:a,tabIndex:l,active:r,scroll:o,nested:d,search:c,searchItem:g,scrollRef:f,scrollContainerRef:p,onScroll:E,footer:h,loading:y,limitedScrollHeight:_,untouchableScrollbars:I,className:N,noDataState:q,noResultsState:w,errorDataState:j,dataError:B,dataFiltered:b,scrollToSelectedItem:M=!1,virtualized:v=!1,scrollContainerClassName:C,barHideStrategy:A="never",...F},R)=>{var Xe;const{size:z="s",flattenItems:T,focusFlattenItems:X}=G(),{value:W,isSelectionSingle:S}=ue(),$=m.useRef(null),L=Z(u),te=Z(s),Ee=Z(e),[O,ne]=m.useState({virtualizer:null,browser:null,measured:!1}),J=Uu({noDataState:q,noResultsState:w,errorDataState:j}),Y=u.length===0,{selectedItemIndex:Q,selectedItem:D}=m.useMemo(()=>{const V={selectedItemIndex:-1,selectedItem:void 0};if(!M||!W)return V;const k=S?T[W]:T[W[0]];if(!(k!=null&&k.id))return V;const ce=Object.values(X),ye=ce.findIndex(fu=>fu.originalId===k.id);return ye<0?V:{selectedItemIndex:ye,selectedItem:ce[ye]}},[T,X,S,M,W]),P=Bt({count:L.length,getScrollElement:()=>o?$.current:null,estimateSize:()=>zt[z],enabled:v,overscan:5}),x=P.getVirtualItems();m.useEffect(()=>{O.measured||(P.measure(),ne(V=>({...V,measured:!0})))},[O.measured,P]);const He=o&&M&&v;m.useEffect(()=>{var V;if(He){if(!O.measured||Q<0||!D||O.virtualizer===D.originalId||D!=null&&D.itemRef&&((V=$.current)!=null&&V.contains(D==null?void 0:D.itemRef.current)))return;P.scrollToIndex(Q,{align:"center"}),ne(k=>({...k,virtualizer:D.originalId}))}},[He,O,D,Q,P]);const We=!!((Xe=D==null?void 0:D.itemRef)!=null&&Xe.current);m.useEffect(()=>{var V,k;D&&O.virtualizer!==null&&We&&O.virtualizer!==O.browser&&((k=(V=D.itemRef)==null?void 0:V.current)==null||k.scrollIntoView({block:"center"}),ne(ce=>({...ce,browser:D.originalId})))},[O,D,We,Q]);const Ke=m.useMemo(()=>y&&i.jsx("div",{role:"spinbutton",tabIndex:-1,className:le.loader,"data-size":z,"data-no-items":Y||void 0,"data-test-id":"list__loader",children:i.jsx(bu,{size:z==="l"?"s":"xs"})}),[Y,y,z]),Ge=m.useMemo(()=>i.jsxs(i.Fragment,{children:[v?i.jsx("div",{className:le.virtualizedContainer,style:{height:P.getTotalSize()},tabIndex:-1,children:x.map(V=>i.jsx("div",{"data-index":V.index,ref:P.measureElement,tabIndex:-1,className:le.virtualizedPositionBox,style:{transform:`translateY(${V.start}px)`},children:L[V.index]},V.key))}):L,Ke,i.jsx(Be,{loading:y,dataError:B,emptyStates:J,hasNoItems:Y,dataFiltered:b??!!(c!=null&&c.value),size:z})]}),[B,b,J,Y,L,y,Ke,c==null?void 0:c.value,z,x,v,P]),pu=m.useCallback(()=>{var V,k;D&&((k=(V=D==null?void 0:D.itemRef)==null?void 0:V.current)==null||k.scrollIntoView({block:"center"}))},[D]),$e=i.jsxs("ul",{className:K(me.listContainer,N),ref:R,onKeyDown:t,tabIndex:l,onFocus:a,onBlur:n,"data-active":r||void 0,role:"menu",...de(F),children:[(Number(s==null?void 0:s.length)>0||c)&&i.jsxs(ze,{children:[c&&i.jsx(je,{search:c,...g}),Number(s==null?void 0:s.length)>0&&te]}),o?i.jsxs(Du,{className:K({[me.scrollContainerS]:o&&_&&z==="s",[me.scrollContainerM]:o&&_&&z==="m",[me.scrollContainerL]:o&&_&&z==="l"},C),barHideStrategy:A,size:"s",ref:uu($,p),untouchableScrollbars:I,onScroll:E,onInitialized:pu,children:[Ge,i.jsx("div",{className:le.scrollStub,ref:f})]}):i.jsx(i.Fragment,{children:Ge}),Number(e==null?void 0:e.length)>0&&i.jsx(Te,{children:Ee}),h&&i.jsx("div",{className:le.footer,onFocus:Oe,children:h})]});return d?i.jsx("li",{style:{listStyleType:"none"},role:"menuitem",children:$e}):$e});try{Ne.displayName="ListPrivate",Ne.__docgenInfo={description:"",displayName:"ListPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}},footer:{defaultValue:null,description:"Кастомизируемый элемент в конце списка",name:"footer",required:!1,type:{name:"ReactNode ;"}},search:{defaultValue:null,description:"Настройки поисковой строки",name:"search",required:!1,type:{name:"SearchState"}},marker:{defaultValue:null,description:"Отображать ли маркер у выбранного жлемента списка",name:"marker",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"Размер списка",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},tabIndex:{defaultValue:null,description:"Tab Index",name:"tabIndex",required:!1,type:{name:"number"}},onKeyDown:{defaultValue:null,description:"Обработчик события по нажатию клавиш",name:"onKeyDown",required:!1,type:{name:"(((e: KeyboardEvent<HTMLElement>) => void) & ((e: KeyboardEvent<HTMLElement>) => void))"}},onScroll:{defaultValue:null,description:"Колбек на скролл прокручиваемого списка",name:"onScroll",required:!1,type:{name:"((event?: Event) => void)"}},loading:{defaultValue:null,description:"Флаг, отвещающий за состояние загрузки списка",name:"loading",required:!1,type:{name:"boolean"}},keyboardNavigationRef:{defaultValue:null,description:"Ссылка на управление навигацией листа с клавиатуры",name:"keyboardNavigationRef",required:!1,type:{name:"RefObject<{ focusItem(id: ItemId): void; }>"}},footerActiveElementsRefs:{defaultValue:null,description:"Список ссылок на кастомные элементы, помещенные в специальную секцию внизу списка",name:"footerActiveElementsRefs",required:!1,type:{name:"RefObject<HTMLElement>[]"}},collapse:{defaultValue:null,description:"Настройки раскрытия элементов",name:"collapse",required:!1,type:{name:"CollapseState"}},scrollToSelectedItem:{defaultValue:{value:"false"},description:"Флаг, отвещающий за прокручивание до выбранного элемента",name:"scrollToSelectedItem",required:!1,type:{name:"boolean"}},scrollContainerClassName:{defaultValue:null,description:"CSS-класс для scroll обертки основного списка айтемов",name:"scrollContainerClassName",required:!1,type:{name:"string"}},virtualized:{defaultValue:{value:"false"},description:"Включить виртуализацию на компоненты списка. Рекомендуется если у вас от 1к элементов списка",name:"virtualized",required:!1,type:{name:"boolean"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"SelectionMultipleState | SelectionSingleState"}},contentRender:{defaultValue:null,description:"Рендер функция основного контента айтема",name:"contentRender",required:!1,type:{name:"((props: ContentRenderProps) => ReactNode)"}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"Ссылка на элемент, обозначающий самый конец прокручиваемого списка",name:"scrollRef",required:!1,type:{name:"RefObject<HTMLElement>"}},scrollContainerRef:{defaultValue:null,description:"Ссылка на контейнер, который скроллится",name:"scrollContainerRef",required:!1,type:{name:"RefObject<HTMLElement>"}},untouchableScrollbars:{defaultValue:null,description:"Отключает возможность взаимодействовать со скролбарами мышью.",name:"untouchableScrollbars",required:!1,type:{name:"boolean"}},barHideStrategy:{defaultValue:{value:"never"},description:"Управление скрытием скролл баров:\n<br> - `Never` - показывать всегда\n<br> - `Leave` - скрывать когда курсор покидает компонент\n<br> - `Scroll` - показывать только когда происходит скроллинг\n<br> - `Move` - показывать при движении курсора над компонентом",name:"barHideStrategy",required:!1,type:{name:"enum",value:[{value:'"move"'},{value:'"scroll"'},{value:'"never"'},{value:'"leave"'}]}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},noDataState:{defaultValue:null,description:"Экран при отстутствии данных",name:"noDataState",required:!1,type:{name:"EmptyStateProps"}},noResultsState:{defaultValue:null,description:"Экран при отстутствии результатов поиска или фильтров",name:"noResultsState",required:!1,type:{name:"EmptyStateProps"}},errorDataState:{defaultValue:null,description:"Экран при ошибке запроса",name:"errorDataState",required:!1,type:{name:"EmptyStateProps"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},limitedScrollHeight:{defaultValue:null,description:"",name:"limitedScrollHeight",required:!1,type:{name:"boolean"}},searchItem:{defaultValue:null,description:"",name:"searchItem",required:!1,type:{name:"FlattenBaseItem"}},pinTop:{defaultValue:null,description:"",name:"pinTop",required:!1,type:{name:"ItemId[]"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},pinBottom:{defaultValue:null,description:"",name:"pinBottom",required:!1,type:{name:"ItemId[]"}}}}}catch{}const Ht=["right","right-start","right-end","left","left-start","left-end","bottom","top"];function we({items:u,placement:s="right-start",id:e,scroll:t,scrollRef:n,disabled:a,onSublistOpenChanged:l,allChildIds:r,loading:o=!1,focusId:d=e,untouchableScrollbars:c=!1,...g}){const{flattenItems:f,focusFlattenItems:p,virtualized:E}=G(),{value:h,isSelectionSingle:y,isSelectionMultiple:_}=ue(),{openCollapseItems:I=[]}=su(),N=f[e],{ids:q,expandedIds:w}=m.useMemo(()=>{const{ids:S,expandedIds:$}=rt({focusCloseChildIds:u,focusFlattenItems:p,openCollapseItems:I,isSelectionMultiple:_});return{ids:S,expandedIds:$.concat([e])}},[p,e,_,u,I]),{handleListKeyDownFactory:j,activeItemId:B,forceUpdateActiveItemId:b}=Lu(),[M,v]=m.useState(),C=m.useCallback(S=>{if(j(q,w)(S),S.key==="ArrowLeft"){b==null||b(d),v(!1),S.stopPropagation();return}},[j,q,w,b,d]),{indeterminate:A,checked:F,handleOnSelect:R}=oe({items:Pe(N)?N.items:[],id:e,allChildIds:r}),z=m.useCallback(()=>(b==null||b(H.dropFocus),v(!1),!0),[b]),T=m.useMemo(()=>!!(!a&&B&&p[d].allChildIds.includes(B)),[B,a,p,d]),X=!!(A&&!M&&y&&h&&r.includes(h)||_&&F);m.useEffect(()=>{v(S=>S&&T)},[e,T]);const W=m.useRef(null);return i.jsx(_u,{outsideClick:z,fallbackPlacements:Ht,content:i.jsx(Ne,{onKeyDown:C,items:u,nested:!0,scroll:t,virtualized:E,tabIndex:0,ref:W,onFocus:S=>{S.stopPropagation(),b==null||b(q[0])},scrollRef:n,limitedScrollHeight:!0,untouchableScrollbars:c,loading:o}),trigger:"hover",open:T||M,onOpenChange:S=>{v(S),l==null||l(S,e)},placement:s,widthStrategy:"auto",children:i.jsx(ie,{...g,disabled:a,open:M,expandIcon:i.jsx(gu,{}),id:e,isParentNode:!0,indeterminate:A,checked:X,onOpenNestedList:()=>{v(!0),setTimeout(()=>{var S;(S=W.current)==null||S.focus()},0)},onSelect:R})})}try{we.displayName="NextListItem",we.__docgenInfo={description:"",displayName:"NextListItem",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор",name:"id",required:!1,type:{name:"ItemId"}},onClick:{defaultValue:null,description:"Колбек обработки клика",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},hidden:{defaultValue:null,description:"Флаг присутствия элемента",name:"hidden",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"Основной контент айтема",name:"content",required:!1,type:{name:"ReactNode | ItemContentProps"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}},onFocus:{defaultValue:null,description:"Колбек обработки фокуса",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Колбек обработки блюра",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLElement, Element>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки нажатия клавиши",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLElement>) => void)"}},onMouseDown:{defaultValue:null,description:"Колбек обработки нажатия кнопки мыши",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onScroll:{defaultValue:null,description:"Колбек на скролл прокручиваемого списка",name:"onScroll",required:!1,type:{name:"((event?: Event) => void)"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг неактивности элемента",name:"disabled",required:!1,type:{name:"boolean"}},placement:{defaultValue:{value:"right-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right"'},{value:'"right-start"'},{value:'"right-end"'}]}},scroll:{defaultValue:null,description:"Включить ли скролл для основной части списка",name:"scroll",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"Ссылка на элемент, обозначающий самый конец прокручиваемого списка",name:"scrollRef",required:!1,type:{name:"RefObject<HTMLElement>"}},scrollContainerRef:{defaultValue:null,description:"Ссылка на контейнер, который скроллится",name:"scrollContainerRef",required:!1,type:{name:"RefObject<HTMLElement>"}},untouchableScrollbars:{defaultValue:{value:"false"},description:"Отключает возможность взаимодействовать со скролбарами мышью.",name:"untouchableScrollbars",required:!1,type:{name:"boolean"}},barHideStrategy:{defaultValue:null,description:"Управление скрытием скролл баров:\n<br> - `Never` - показывать всегда\n<br> - `Leave` - скрывать когда курсор покидает компонент\n<br> - `Scroll` - показывать только когда происходит скроллинг\n<br> - `Move` - показывать при движении курсора над компонентом",name:"barHideStrategy",required:!1,type:{name:"enum",value:[{value:'"move"'},{value:'"scroll"'},{value:'"never"'},{value:'"leave"'}]}},dataFiltered:{defaultValue:null,description:"",name:"dataFiltered",required:!1,type:{name:"boolean"}},dataError:{defaultValue:null,description:"",name:"dataError",required:!1,type:{name:"boolean"}},beforeContent:{defaultValue:null,description:"Слот до основного контента",name:"beforeContent",required:!1,type:{name:"ReactElement"}},afterContent:{defaultValue:null,description:"Слот после основного контента",name:"afterContent",required:!1,type:{name:"ReactElement"}},showSwitchIcon:{defaultValue:null,description:"Флаг отображения иконки у чекбоксов",name:"showSwitchIcon",required:!1,type:{name:"boolean"}},itemWrapRender:{defaultValue:null,description:"",name:"itemWrapRender",required:!1,type:{name:"((item: ReactNode) => ReactNode)"}},onSublistOpenChanged:{defaultValue:null,description:"",name:"onSublistOpenChanged",required:!1,type:{name:"((open: boolean, id?: ItemId) => void)"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}},focusId:{defaultValue:null,description:"",name:"focusId",required:!1,type:{name:"ItemId"}}}}}catch{}function cu({focusCloseChildIds:u,focusFlattenItems:s,flattenItems:e,isSelectionMultiple:t}){return u?u.flatMap(n=>{const{itemRef:a,key:l,originalId:r,items:o}=s[n],d=e[r];if(re(d)||!t&&Ze(d)){const c=cu({focusCloseChildIds:o,focusFlattenItems:s,flattenItems:e,isSelectionMultiple:t});return[i.jsx(fe,{label:d.label,truncate:d.truncate,divider:d.divider,mode:d.mode},l+"_separator"),...c]}return Ze(d)?m.createElement(Me,{...d,items:o,itemRef:a,key:l}):ou(d)?m.createElement(Fe,{...d,items:o,itemRef:a,key:l}):Pe(d)?m.createElement(we,{...d,focusId:n,items:o,itemRef:a,key:l}):m.createElement(ie,{...d,itemRef:a,key:l})}):[null]}function Z(u){const{focusFlattenItems:s,flattenItems:e}=G(),{isSelectionMultiple:t}=ue();return m.useMemo(()=>cu({flattenItems:e,focusFlattenItems:s,focusCloseChildIds:u,isSelectionMultiple:t}),[e,u,s,t])}function eu({footerActiveElementsRefs:u}){return m.useMemo(()=>({searchItem:{itemRef:m.createRef(),id:H.search,parentId:H.default,items:[],allChildIds:[]},footerItems:(u==null?void 0:u.map((s,e)=>({id:nt(e),itemRef:s,parentId:H.default,items:[],allChildIds:[]})))??[]}),[u])}function oe({id:u,allChildIds:s}){const{value:e,setValue:t,isSelectionMultiple:n}=ue(),{flattenItems:a}=G(),l=m.useMemo(()=>s.filter(f=>{const p=a[f];return p&&!("type"in p)}),[s,a]),r=m.useMemo(()=>l.filter(f=>{const p=a[f];return p&&!("type"in p)&&!p.disabled}),[l,a]),o=n?e&&!!e.length&&l.every(f=>e==null?void 0:e.includes(f)):void 0,d=n?e&&!!e.length&&r.every(f=>e==null?void 0:e.includes(f)):void 0,c=n?!o&&l.some(f=>e==null?void 0:e.includes(f)):l.includes(e??"");return{checked:o,indeterminate:c,handleOnSelect:()=>{if(o||d){t==null||t(f=>(f??[]).filter(p=>p!==u&&!r.includes(p)));return}t==null||t(f=>Array.from(new Set([...f??[],...r])))}}}try{Z.displayName="useRenderItems",Z.__docgenInfo={description:"",displayName:"useRenderItems",props:{}}}catch{}try{eu.displayName="useCreateBaseItems",eu.__docgenInfo={description:"",displayName:"useCreateBaseItems",props:{search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"boolean"}},footerActiveElementsRefs:{defaultValue:null,description:"",name:"footerActiveElementsRefs",required:!1,type:{name:"RefObject<HTMLElement>[]"}}}}}catch{}try{oe.displayName="useGroupItemSelection",oe.__docgenInfo={description:"",displayName:"useGroupItemSelection",props:{allChildIds:{defaultValue:null,description:"",name:"allChildIds",required:!0,type:{name:"ItemId[]"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemId[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"ItemId"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const Wt={S:"s"},Ce={input:"search__field-input",iconSun:"search__icon-sun",iconSearch:"search__icon-search"},Kt="_container_rbn5l_1",Gt="_postfix_rbn5l_56",$t="_prefix_rbn5l_62",be={container:Kt,postfix:Gt,prefix:$t},Re=m.forwardRef(function({size:s=Wt.S,value:e="",onChange:t,loading:n,placeholder:a,onKeyDown:l,onFocus:r,onBlur:o,onSubmit:d,className:c,tabIndex:g,...f},p){const[E="",h]=ke({value:e,defaultValue:"",onChange:t}),y=m.useRef(null),_=m.useRef(null),{t:I}=Le("SearchPrivate"),w=Bu({clearButtonRef:_,showClearButton:!!E,size:s,onClear:()=>{var C;h(""),(C=y.current)==null||C.focus()}}),{postfixButtons:j,inputTabIndex:B,onInputKeyDown:b}=Au({inputRef:y,postfixButtons:m.useMemo(()=>[w],[w]),readonly:!1,submitKeys:["Enter","Space"]}),M=m.useCallback(C=>{var A;l&&l(C),b(C),C.key==="Enter"&&((A=y.current)!=null&&A.value)&&d&&d(y.current.value)},[b,l,d]),v=m.useCallback(C=>{r&&r(C),Su(y.current)},[r]);return i.jsxs("div",{className:K(be.container,c),...de(f),"data-size":s,children:[i.jsx("span",{className:be.prefix,children:n?i.jsx(qu,{"data-test-id":Ce.iconSun}):i.jsx(tu,{"data-test-id":Ce.iconSearch})}),i.jsx(Vu,{value:E,onChange:h,onKeyDown:M,onFocus:v,onBlur:o,tabIndex:g??B,ref:uu(p,y),placeholder:a??I("placeholder"),type:"text","data-test-id":Ce.input}),i.jsx("span",{className:be.postfix,children:j})]})});try{Re.displayName="SearchPrivate",Re.__docgenInfo={description:"",displayName:"SearchPrivate",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},loading:{defaultValue:null,description:"Состояние загрузки",name:"loading",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"Колбек на подтверждение поиска по строке",name:"onSubmit",required:!1,type:{name:"((value: string) => void)"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},onFocus:{defaultValue:null,description:"Колбек обработки получения фокуса",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Колбек обработки потери фокуса",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onChange:{defaultValue:null,description:"Колбек смены значения",name:"onChange",required:!1,type:{name:"((value: string, e?: ChangeEvent<HTMLInputElement>) => void)"}},onKeyDown:{defaultValue:null,description:"Колбек обработки начала нажатия клавиши клавиатуры",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},value:{defaultValue:null,description:"Значение input",name:"value",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Значение плейсхолдера",name:"placeholder",required:!1,type:{name:"string"}}}}}catch{}const Xt="_searchItem_1m87n_1",Jt={searchItem:Xt};function je({search:u,itemRef:s}){const{size:e="s",firstItemId:t}=G(),n=a=>{["ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault()};return u?i.jsx("div",{className:K(qe.listItem,Jt.searchItem),"data-size":e,"data-test-id":"list__search-item",children:i.jsx(Re,{size:e,tabIndex:H.search===t?0:-1,onKeyDown:n,onFocus:Oe,...u,ref:s})}):null}try{je.displayName="SearchItem",je.__docgenInfo={description:"",displayName:"SearchItem",props:{search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"SearchState"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"RefObject<HTMLElement>"}}}}}catch{}const Ut="_pinTopItem_5pnxc_1",Zt="_pinBottomItem_5pnxc_23",mu={pinTopItem:Ut,pinBottomItem:Zt};function ze({children:u}){const{size:s="s"}=G();return u?i.jsxs("div",{className:K(mu.pinTopItem),"data-size":s,"data-test-id":"list__pin-top-group-item",children:[i.jsx("div",{children:u}),i.jsx(pe,{weight:"regular"})]}):null}function Te({children:u}){const{size:s="s"}=G();return u?i.jsxs("div",{className:K(mu.pinBottomItem),"data-size":s,"data-test-id":"list__pin-bottom-group-item",children:[i.jsx(pe,{weight:"regular"}),i.jsx("div",{children:u})]}):null}try{ze.displayName="PinTopGroupItem",ze.__docgenInfo={description:"",displayName:"PinTopGroupItem",props:{}}}catch{}try{Te.displayName="PinBottomGroupItem",Te.__docgenInfo={description:"",displayName:"PinBottomGroupItem",props:{}}}catch{}function q4({mainRef:u,btnRef:s,focusFlattenItems:e,keyboardNavigationRef:t,hasListInFocusChain:n,firstItemId:a}){const l=n?void 0:a,[r,o]=m.useState(()=>l),d=m.useRef(l),c=m.useCallback(()=>{o(l),d.current=l},[l]),g=m.useCallback((p,E)=>h=>{var y,_,I,N,q,w,j,B,b,M;switch(h.key){case"ArrowDown":{if(d.current!==void 0){const v=p.findIndex(R=>R===d.current),C=Math.min(v+1,p.length-1),A=p[C],F=e[A];d.current=A,o(A),F.type!=="group"&&((_=(y=F.itemRef)==null?void 0:y.current)==null||_.focus())}else{const v=p[0],C=e[v];d.current=v,o(v),C.type!=="group"&&((N=(I=C.itemRef)==null?void 0:I.current)==null||N.focus())}h.stopPropagation(),h.preventDefault();return}case"ArrowUp":{if(p[0]===d.current)n&&e[p[0]].parentId===H.default&&(d.current=void 0,o(void 0),(q=u==null?void 0:u.current)==null||q.focus());else if(d.current!==void 0){const v=p.findIndex(R=>R===d.current),C=Math.max(v-1,0),A=p[C],F=e[A];d.current=A,o(A),F.type!=="group"&&((j=(w=F.itemRef)==null?void 0:w.current)==null||j.focus())}h.stopPropagation(),h.preventDefault();return}case"ArrowRight":{if(d.current!==void 0&&E.includes(d.current)){const C=e[d.current].items[0],A=e[C];d.current=C,o(C),setTimeout(()=>{var F,R;return(R=(F=A.itemRef)==null?void 0:F.current)==null?void 0:R.focus()},0),h.stopPropagation(),h.preventDefault()}return}case"Tab":{d.current!==void 0?n?(h.preventDefault(),h.stopPropagation(),d.current=void 0,o(void 0),(B=u==null?void 0:u.current)==null||B.focus()):c():s&&!h.shiftKey?(b=s==null?void 0:s.current)==null||b.focus():(M=u==null?void 0:u.current)==null||M.focus();return}default:return}},[e,n,u,c,s]),f=m.useCallback(p=>{var h,y;o(p),d.current=p;const E=e[p];(y=(h=E==null?void 0:E.itemRef)==null?void 0:h.current)==null||y.focus()},[e]);return m.useImperativeHandle(t,()=>({focusItem:f}),[f]),{resetActiveItemId:c,activeItemId:r,forceUpdateActiveItemId:f,handleListKeyDownFactory:g}}export{zu as C,ku as F,H as I,Ne as L,Ue as N,Ou as O,Je as S,q4 as a,Oe as b,ou as c,iu as d,rt as e,Re as f,D4 as g,A4 as h,re as i,S4 as j,V4 as k,B4 as l,x4 as m,Ve as n,me as s,eu as u};
