import{j as it}from"./jsx-runtime-BTJTZTIL.js";import{c as ue}from"./index-DUmpqB7p.js";import{u as tt,_ as X,a as at,b as rt,w as ot,c as B,K as j}from"./KeyCode-CHzoJbuw.js";import{b as Ae,c as ct,_ as z,d as ne}from"./objectWithoutProperties-3ReGGzEA.js";import{r as t}from"./index-CJ_LmFaV.js";import{_ as st}from"./extends-CF3RwP-h.js";import{D as Rt}from"./useSwipeable-DMbEt_5P.js";import{T as _t}from"./Tooltip-BNp3usZT.js";function Le(e){return e!==void 0}function wt(e,o){var a=o||{},c=a.defaultValue,u=a.value,n=a.onChange,l=a.postState,C=tt(function(){return Le(u)?u:Le(c)?typeof c=="function"?c():c:typeof e=="function"?e():e}),k=X(C,2),S=k[0],m=k[1],g=u!==void 0?u:S,f=l?l(g):g,h=at(n),i=tt([g]),d=X(i,2),s=d[0],v=d[1];rt(function(){var b=s[0];S!==b&&h(S,b)},[s]),rt(function(){Le(u)||m(u)},[u]);var r=at(function(b,R){m(b,R),v([g],R)});return[f,r]}function Nt(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=new Set;function u(n,l){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=c.has(n);if(ot(!k,"Warning: There may be circular references"),k)return!1;if(n===l)return!0;if(a&&C>1)return!1;c.add(n);var S=C+1;if(Array.isArray(n)){if(!Array.isArray(l)||n.length!==l.length)return!1;for(var m=0;m<n.length;m++)if(!u(n[m],l[m],S))return!1;return!0}if(n&&l&&Ae(n)==="object"&&Ae(l)==="object"){var g=Object.keys(n);return g.length!==Object.keys(l).length?!1:g.every(function(f){return u(n[f],l[f],S)})}return!1}return u(e,o)}var ve=t.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function He(e,o,a){return(e-o)/(a-o)}function je(e,o,a,c){var u=He(o,a,c),n={};switch(e){case"rtl":n.right="".concat(u*100,"%"),n.transform="translateX(50%)";break;case"btt":n.bottom="".concat(u*100,"%"),n.transform="translateY(50%)";break;case"ttb":n.top="".concat(u*100,"%"),n.transform="translateY(-50%)";break;default:n.left="".concat(u*100,"%"),n.transform="translateX(-50%)";break}return n}function he(e,o){return Array.isArray(e)?e[o]:e}var $t=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],Ft=t.forwardRef(function(e,o){var a,c,u=e.prefixCls,n=e.value,l=e.valueIndex,C=e.onStartMove,k=e.style,S=e.render,m=e.dragging,g=e.onOffsetChange,f=e.onChangeComplete,h=ct(e,$t),i=t.useContext(ve),d=i.min,s=i.max,v=i.direction,r=i.disabled,b=i.keyboard,R=i.range,_=i.tabIndex,L=i.ariaLabelForHandle,A=i.ariaLabelledByForHandle,O=i.ariaValueTextFormatterForHandle,$=i.styles,N=i.classNames,F="".concat(u,"-handle"),H=function(E){r||C(E,l)},Y=function(E){if(!r&&b){var x=null;switch(E.which||E.keyCode){case j.LEFT:x=v==="ltr"||v==="btt"?-1:1;break;case j.RIGHT:x=v==="ltr"||v==="btt"?1:-1;break;case j.UP:x=v!=="ttb"?1:-1;break;case j.DOWN:x=v!=="ttb"?-1:1;break;case j.HOME:x="min";break;case j.END:x="max";break;case j.PAGE_UP:x=2;break;case j.PAGE_DOWN:x=-2;break}x!==null&&(E.preventDefault(),g(x,l))}},J=function(E){switch(E.which||E.keyCode){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:case j.HOME:case j.END:case j.PAGE_UP:case j.PAGE_DOWN:f==null||f();break}},W=je(v,n,d,s),U=t.createElement("div",st({ref:o,className:ue(F,(a={},z(a,"".concat(F,"-").concat(l+1),R),z(a,"".concat(F,"-dragging"),m),a),N.handle),style:B(B(B({},W),k),$.handle),onMouseDown:H,onTouchStart:H,onKeyDown:Y,onKeyUp:J,tabIndex:r?null:he(_,l),role:"slider","aria-valuemin":d,"aria-valuemax":s,"aria-valuenow":n,"aria-disabled":r,"aria-label":he(L,l),"aria-labelledby":he(A,l),"aria-valuetext":(c=he(O,l))===null||c===void 0?void 0:c(n),"aria-orientation":v==="ltr"||v==="rtl"?"horizontal":"vertical"},h));return S&&(U=S(U,{index:l,prefixCls:u,value:n,dragging:m})),U}),Tt=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Dt=t.forwardRef(function(e,o){var a=e.prefixCls,c=e.style,u=e.onStartMove,n=e.onOffsetChange,l=e.values,C=e.handleRender,k=e.draggingIndex,S=ct(e,Tt),m=t.useRef({});return t.useImperativeHandle(o,function(){return{focus:function(f){var h;(h=m.current[f])===null||h===void 0||h.focus()}}}),t.createElement(t.Fragment,null,l.map(function(g,f){return t.createElement(Ft,st({ref:function(i){i?m.current[f]=i:delete m.current[f]},dragging:k===f,prefixCls:a,style:he(c,f),key:f,value:g,valueIndex:f,onStartMove:u,onOffsetChange:n,render:C},S))}))});function nt(e){var o="touches"in e?e.touches[0]:e;return{pageX:o.pageX,pageY:o.pageY}}function Ot(e,o,a,c,u,n,l,C,k){var S=t.useState(null),m=X(S,2),g=m[0],f=m[1],h=t.useState(-1),i=X(h,2),d=i[0],s=i[1],v=t.useState(a),r=X(v,2),b=r[0],R=r[1],_=t.useState(a),L=X(_,2),A=L[0],O=L[1],$=t.useRef(null),N=t.useRef(null);t.useEffect(function(){d===-1&&R(a)},[a,d]),t.useEffect(function(){return function(){document.removeEventListener("mousemove",$.current),document.removeEventListener("mouseup",N.current),document.removeEventListener("touchmove",$.current),document.removeEventListener("touchend",N.current)}},[]);var F=function(w,E){b.some(function(x,p){return x!==w[p]})&&(E!==void 0&&f(E),R(w),l(w))},H=function(w,E){if(w===-1){var x=A[0],p=A[A.length-1],de=c-x,le=u-p,I=E*(u-c);I=Math.max(I,de),I=Math.min(I,le);var ye=n(x+I);I=ye-x;var Q=A.map(function(te){return te+I});F(Q)}else{var ie=(u-c)*E,ee=ne(b);ee[w]=A[w];var Z=k(ee,ie,w,"dist");F(Z.values,Z.value)}},Y=t.useRef(H);Y.current=H;var J=function(w,E,x){w.stopPropagation();var p=x||a,de=p[E];s(E),f(de),O(p);var le=nt(w),I=le.pageX,ye=le.pageY,Q=function(Z){Z.preventDefault();var te=nt(Z),Fe=te.pageX,Te=te.pageY,be=Fe-I,Ce=Te-ye,Se=e.current.getBoundingClientRect(),ke=Se.width,Me=Se.height,K;switch(o){case"btt":K=-Ce/Me;break;case"ttb":K=Ce/Me;break;case"rtl":K=-be/ke;break;default:K=be/ke}Y.current(E,K)},ie=function ee(Z){Z.preventDefault(),document.removeEventListener("mouseup",ee),document.removeEventListener("mousemove",Q),document.removeEventListener("touchend",ee),document.removeEventListener("touchmove",Q),$.current=null,N.current=null,s(-1),C()};document.addEventListener("mouseup",ie),document.addEventListener("mousemove",Q),document.addEventListener("touchend",ie),document.addEventListener("touchmove",Q),$.current=Q,N.current=ie},W=t.useMemo(function(){var U=ne(a).sort(function(E,x){return E-x}),w=ne(b).sort(function(E,x){return E-x});return U.every(function(E,x){return E===w[x]})?b:a},[a,b]);return[d,g,W,J]}function Pt(e,o,a,c,u,n){var l=t.useCallback(function(h){var i=isFinite(h)?h:e;return i=Math.min(o,h),i=Math.max(e,i),i},[e,o]),C=t.useCallback(function(h){if(a!==null){var i=e+Math.round((l(h)-e)/a)*a,d=function(b){return(String(b).split(".")[1]||"").length},s=Math.max(d(a),d(o),d(e)),v=Number(i.toFixed(s));return e<=v&&v<=o?v:null}return null},[a,e,o,l]),k=t.useCallback(function(h){var i=l(h),d=c.map(function(r){return r.value});a!==null&&d.push(C(h)),d.push(e,o);var s=d[0],v=o-e;return d.forEach(function(r){var b=Math.abs(i-r);b<=v&&(s=r,v=b)}),s},[e,o,c,a,l,C]),S=function h(i,d,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof d=="number"){var r,b=i[s],R=b+d,_=[];c.forEach(function(N){_.push(N.value)}),_.push(e,o),_.push(C(b));var L=d>0?1:-1;v==="unit"?_.push(C(b+L*a)):_.push(C(R)),_=_.filter(function(N){return N!==null}).filter(function(N){return d<0?N<=b:N>=b}),v==="unit"&&(_=_.filter(function(N){return N!==b}));var A=v==="unit"?b:R;r=_[0];var O=Math.abs(r-A);if(_.forEach(function(N){var F=Math.abs(N-A);F<O&&(r=N,O=F)}),r===void 0)return d<0?e:o;if(v==="dist")return r;if(Math.abs(d)>1){var $=ne(i);return $[s]=r,h($,d-L,s,v)}return r}else{if(d==="min")return e;if(d==="max")return o}},m=function(i,d,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",r=i[s],b=S(i,d,s,v);return{value:b,changed:b!==r}},g=function(i){return n===null&&i===0||typeof n=="number"&&i<n},f=function(i,d,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",r=i.map(k),b=r[s],R=S(r,d,s,v);if(r[s]=R,u===!1){var _=n||0;s>0&&r[s-1]!==b&&(r[s]=Math.max(r[s],r[s-1]+_)),s<r.length-1&&r[s+1]!==b&&(r[s]=Math.min(r[s],r[s+1]-_))}else if(typeof n=="number"||n===null){for(var L=s+1;L<r.length;L+=1)for(var A=!0;g(r[L]-r[L-1])&&A;){var O=m(r,1,L);r[L]=O.value,A=O.changed}for(var $=s;$>0;$-=1)for(var N=!0;g(r[$]-r[$-1])&&N;){var F=m(r,-1,$-1);r[$-1]=F.value,N=F.changed}for(var H=r.length-1;H>0;H-=1)for(var Y=!0;g(r[H]-r[H-1])&&Y;){var J=m(r,-1,H-1);r[H-1]=J.value,Y=J.changed}for(var W=0;W<r.length-1;W+=1)for(var U=!0;g(r[W+1]-r[W])&&U;){var w=m(r,1,W+1);r[W+1]=w.value,U=w.changed}}return{value:r[s],values:r}};return[k,f]}function Lt(e){var o=e.prefixCls,a=e.style,c=e.children,u=e.value,n=e.onClick,l=t.useContext(ve),C=l.min,k=l.max,S=l.direction,m=l.includedStart,g=l.includedEnd,f=l.included,h="".concat(o,"-text"),i=je(S,u,C,k);return t.createElement("span",{className:ue(h,z({},"".concat(h,"-active"),f&&m<=u&&u<=g)),style:B(B({},i),a),onMouseDown:function(s){s.stopPropagation()},onClick:function(){n(u)}},c)}function At(e){var o=e.prefixCls,a=e.marks,c=e.onClick,u="".concat(o,"-mark");return a.length?t.createElement("div",{className:u},a.map(function(n){var l=n.value,C=n.style,k=n.label;return t.createElement(Lt,{key:l,prefixCls:u,style:C,value:l,onClick:c},k)})):null}function Ht(e){var o=e.prefixCls,a=e.value,c=e.style,u=e.activeStyle,n=t.useContext(ve),l=n.min,C=n.max,k=n.direction,S=n.included,m=n.includedStart,g=n.includedEnd,f="".concat(o,"-dot"),h=S&&m<=a&&a<=g,i=B(B({},je(k,a,l,C)),typeof c=="function"?c(a):c);return h&&(i=B(B({},i),typeof u=="function"?u(a):u)),t.createElement("span",{className:ue(f,z({},"".concat(f,"-active"),h)),style:i})}function jt(e){var o=e.prefixCls,a=e.marks,c=e.dots,u=e.style,n=e.activeStyle,l=t.useContext(ve),C=l.min,k=l.max,S=l.step,m=t.useMemo(function(){var g=new Set;if(a.forEach(function(h){g.add(h.value)}),c&&S!==null)for(var f=C;f<=k;)g.add(f),f+=S;return Array.from(g)},[C,k,S,c,a]);return t.createElement("div",{className:"".concat(o,"-step")},m.map(function(g){return t.createElement(Ht,{prefixCls:o,key:g,value:g,style:u,activeStyle:n})}))}function ut(e){var o,a=e.prefixCls,c=e.style,u=e.start,n=e.end,l=e.index,C=e.onStartMove,k=e.replaceCls,S=t.useContext(ve),m=S.direction,g=S.min,f=S.max,h=S.disabled,i=S.range,d=S.classNames,s="".concat(a,"-track"),v=He(u,g,f),r=He(n,g,f),b=function(A){!h&&C&&C(A,-1)},R={};switch(m){case"rtl":R.right="".concat(v*100,"%"),R.width="".concat(r*100-v*100,"%");break;case"btt":R.bottom="".concat(v*100,"%"),R.height="".concat(r*100-v*100,"%");break;case"ttb":R.top="".concat(v*100,"%"),R.height="".concat(r*100-v*100,"%");break;default:R.left="".concat(v*100,"%"),R.width="".concat(r*100-v*100,"%")}var _=k||ue(s,(o={},z(o,"".concat(s,"-").concat(l+1),l!==null&&i),z(o,"".concat(a,"-track-draggable"),C),o),d.track);return t.createElement("div",{className:_,style:B(B({},R),c),onMouseDown:b,onTouchStart:b})}function Bt(e){var o=e.prefixCls,a=e.style,c=e.values,u=e.startPoint,n=e.onStartMove,l=t.useContext(ve),C=l.included,k=l.range,S=l.min,m=l.styles,g=l.classNames,f=t.useMemo(function(){if(!k){if(c.length===0)return[];var i=u??S,d=c[0];return[{start:Math.min(i,d),end:Math.max(i,d)}]}for(var s=[],v=0;v<c.length-1;v+=1)s.push({start:c[v],end:c[v+1]});return s},[c,k,u,S]),h=null;return(g.tracks||m.tracks)&&(h=t.createElement(ut,{index:null,prefixCls:o,start:f[0].start,end:f[f.length-1].end,replaceCls:ue(g.tracks,"".concat(o,"-tracks")),style:m.tracks})),C?t.createElement(t.Fragment,null,h,f.map(function(i,d){var s=i.start,v=i.end;return t.createElement(ut,{index:d,prefixCls:o,style:B(B({},he(a,d)),m.track),start:s,end:v,key:d,onStartMove:n})})):null}var Ut=t.forwardRef(function(e,o){var a,c=e.prefixCls,u=c===void 0?"rc-slider":c,n=e.className,l=e.style,C=e.classNames,k=e.styles,S=e.disabled,m=S===void 0?!1:S,g=e.keyboard,f=g===void 0?!0:g,h=e.autoFocus,i=e.onFocus,d=e.onBlur,s=e.min,v=s===void 0?0:s,r=e.max,b=r===void 0?100:r,R=e.step,_=R===void 0?1:R,L=e.value,A=e.defaultValue,O=e.range,$=e.count,N=e.onChange,F=e.onBeforeChange,H=e.onAfterChange,Y=e.onChangeComplete,J=e.allowCross,W=J===void 0?!0:J,U=e.pushable,w=U===void 0?!1:U,E=e.draggableTrack,x=e.reverse,p=e.vertical,de=e.included,le=de===void 0?!0:de,I=e.startPoint,ye=e.trackStyle,Q=e.handleStyle,ie=e.railStyle,ee=e.dotStyle,Z=e.activeDotStyle,te=e.marks,Fe=e.dots,Te=e.handleRender,be=e.tabIndex,Ce=be===void 0?0:be,Se=e.ariaLabelForHandle,ke=e.ariaLabelledByForHandle,Me=e.ariaValueTextFormatterForHandle,K=t.useRef(),Re=t.useRef(),_e=t.useMemo(function(){return p?x?"ttb":"btt":x?"rtl":"ltr"},[x,p]),V=t.useMemo(function(){return isFinite(v)?v:0},[v]),fe=t.useMemo(function(){return isFinite(b)?b:100},[b]),oe=t.useMemo(function(){return _!==null&&_<=0?1:_},[_]),dt=t.useMemo(function(){return typeof w=="boolean"?w?oe:!1:w>=0?w:!1},[w,oe]),we=t.useMemo(function(){var T=Object.keys(te||{});return T.map(function(M){var y=te[M],P={value:Number(M)};return y&&Ae(y)==="object"&&!t.isValidElement(y)&&("label"in y||"style"in y)?(P.style=y.style,P.label=y.label):P.label=y,P}).filter(function(M){var y=M.label;return y||typeof y=="number"}).sort(function(M,y){return M.value-y.value})},[te]),ft=Pt(V,fe,oe,we,W,dt),Be=X(ft,2),Ne=Be[0],Ue=Be[1],mt=wt(A,{value:L}),We=X(mt,2),ae=We[0],gt=We[1],G=t.useMemo(function(){var T=ae==null?[]:Array.isArray(ae)?ae:[ae],M=X(T,1),y=M[0],P=y===void 0?V:y,D=ae===null?[]:[P];if(O){if(D=ne(T),$||ae===void 0){var q=$>=0?$+1:2;for(D=D.slice(0,q);D.length<q;){var ce;D.push((ce=D[D.length-1])!==null&&ce!==void 0?ce:V)}}D.sort(function(se,re){return se-re})}return D.forEach(function(se,re){D[re]=Ne(se)}),D},[ae,O,V,$,Ne]),Ee=t.useRef(G);Ee.current=G;var me=function(M){return O?M:M[0]},De=function(M){var y=ne(M).sort(function(P,D){return P-D});N&&!Nt(y,Ee.current,!0)&&N(me(y)),gt(y)},Ve=function(){H==null||H(me(Ee.current)),ot(!H,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Y==null||Y(me(Ee.current))},ht=Ot(Re,_e,G,V,fe,Ne,De,Ve,Ue),$e=X(ht,4),Xe=$e[0],yt=$e[1],Oe=$e[2],Ye=$e[3],pe=function(M,y){if(!m){var P=0,D=fe-V;G.forEach(function(ce,se){var re=Math.abs(M-ce);re<=D&&(D=re,P=se)});var q=ne(G);q[P]=M,O&&!G.length&&$===void 0&&q.push(M),F==null||F(me(q)),De(q),y&&Ye(y,P,q)}},bt=function(M){M.preventDefault();var y=Re.current.getBoundingClientRect(),P=y.width,D=y.height,q=y.left,ce=y.top,se=y.bottom,re=y.right,Ze=M.clientX,et=M.clientY,xe;switch(_e){case"btt":xe=(se-et)/D;break;case"ttb":xe=(et-ce)/D;break;case"rtl":xe=(re-Ze)/P;break;default:xe=(Ze-q)/P}var xt=V+xe*(fe-V);pe(Ne(xt),M)},Ct=t.useState(null),Ie=X(Ct,2),Pe=Ie[0],Ke=Ie[1],St=function(M,y){if(!m){var P=Ue(G,M,y);F==null||F(me(G)),De(P.values),Ke(P.value)}};t.useEffect(function(){if(Pe!==null){var T=G.indexOf(Pe);T>=0&&K.current.focus(T)}Ke(null)},[Pe]);var kt=t.useMemo(function(){return E&&oe===null?!1:E},[E,oe]),Ge=function(M,y){Ye(M,y),F==null||F(me(Ee.current))},qe=Xe!==-1;t.useEffect(function(){if(!qe){var T=G.lastIndexOf(yt);K.current.focus(T)}},[qe]);var ge=t.useMemo(function(){return ne(Oe).sort(function(T,M){return T-M})},[Oe]),Mt=t.useMemo(function(){return O?[ge[0],ge[ge.length-1]]:[V,ge[0]]},[ge,O,V]),ze=X(Mt,2),Je=ze[0],Qe=ze[1];t.useImperativeHandle(o,function(){return{focus:function(){K.current.focus(0)},blur:function(){var M=document,y=M.activeElement;Re.current.contains(y)&&(y==null||y.blur())}}}),t.useEffect(function(){h&&K.current.focus(0)},[]);var Et=t.useMemo(function(){return{min:V,max:fe,direction:_e,disabled:m,keyboard:f,step:oe,included:le,includedStart:Je,includedEnd:Qe,range:O,tabIndex:Ce,ariaLabelForHandle:Se,ariaLabelledByForHandle:ke,ariaValueTextFormatterForHandle:Me,styles:k||{},classNames:C||{}}},[V,fe,_e,m,f,oe,le,Je,Qe,O,Ce,Se,ke,Me,k,C]);return t.createElement(ve.Provider,{value:Et},t.createElement("div",{ref:Re,className:ue(u,n,(a={},z(a,"".concat(u,"-disabled"),m),z(a,"".concat(u,"-vertical"),p),z(a,"".concat(u,"-horizontal"),!p),z(a,"".concat(u,"-with-marks"),we.length),a)),style:l,onMouseDown:bt},t.createElement("div",{className:ue("".concat(u,"-rail"),C==null?void 0:C.rail),style:B(B({},ie),k==null?void 0:k.rail)}),t.createElement(Bt,{prefixCls:u,style:ye,values:ge,startPoint:I,onStartMove:kt?Ge:null}),t.createElement(jt,{prefixCls:u,marks:we,dots:Fe,style:ee,activeStyle:Z}),t.createElement(Dt,{ref:K,prefixCls:u,style:Q,values:Oe,draggingIndex:Xe,onStartMove:Ge,onOffsetChange:St,onFocus:i,onBlur:d,handleRender:Te,onChangeComplete:Ve}),t.createElement(At,{prefixCls:u,marks:we,onClick:pe})))});const Wt="_tipWrapper_14xgr_170",Vt={tipWrapper:Wt},vt=e=>t.cloneElement(e,{[Rt]:"Left Right"}),Xt=e=>function(o,a){return it.jsx(_t,{tip:e?e(a.value):a.value,open:a.dragging||void 0,disableSpanWrapper:!0,trigger:"hoverAndFocusVisible",className:Vt.tipWrapper,children:vt(o)})};function lt({className:e,handleTip:o,tipFormatter:a,...c}){return it.jsx(Ut,{className:ue("osThemeSnack",e,{withMarks:!!c.marks,reverse:!!c.reverse}),handleRender:o?Xt(a):vt,...c},JSON.stringify(c.marks))}try{lt.displayName="Slider",lt.__docgenInfo={description:"",displayName:"Slider",props:{handleTip:{defaultValue:null,description:"",name:"handleTip",required:!1,type:{name:"boolean"}},tipFormatter:{defaultValue:null,description:"",name:"tipFormatter",required:!1,type:{name:"((value: string | number) => ReactNode)"}}}}}catch{}export{lt as S};
