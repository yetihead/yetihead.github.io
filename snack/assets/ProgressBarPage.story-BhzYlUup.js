import{j as F}from"./jsx-runtime-BTJTZTIL.js";import{c as q,a as Y,b as X}from"./README-CPneabtK.js";import{_ as Q}from"./extends-CF3RwP-h.js";import{r as d}from"./index-CJ_LmFaV.js";import{c as Z}from"./index-DUmpqB7p.js";import{e as ee}from"./componentPropsProcessors-UJEZy8aQ.js";import{B as N}from"./ButtonFilled-DhU1yp3w.js";import"./index-ChsGqxH_.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./utils-Ct1D1GSP.js";import"./Counter-dO15w468.js";import"./Sun-CLMO8Tpr.js";import"./constants-BAH7I9kc.js";var w={exports:{}},u={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B;function re(){if(B)return u;B=1;var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,c=t?Symbol.for("react.strict_mode"):60108,m=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,v=t?Symbol.for("react.async_mode"):60111,y=t?Symbol.for("react.concurrent_mode"):60111,S=t?Symbol.for("react.forward_ref"):60112,P=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,o=t?Symbol.for("react.lazy"):60116,p=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function f(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case r:switch(e=e.type,e){case v:case y:case a:case m:case c:case P:return e;default:switch(e=e&&e.$$typeof,e){case l:case S:case o:case g:case i:return e;default:return s}}case n:return s}}}function h(e){return f(e)===y}return u.AsyncMode=v,u.ConcurrentMode=y,u.ContextConsumer=l,u.ContextProvider=i,u.Element=r,u.ForwardRef=S,u.Fragment=a,u.Lazy=o,u.Memo=g,u.Portal=n,u.Profiler=m,u.StrictMode=c,u.Suspense=P,u.isAsyncMode=function(e){return h(e)||f(e)===v},u.isConcurrentMode=h,u.isContextConsumer=function(e){return f(e)===l},u.isContextProvider=function(e){return f(e)===i},u.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===r},u.isForwardRef=function(e){return f(e)===S},u.isFragment=function(e){return f(e)===a},u.isLazy=function(e){return f(e)===o},u.isMemo=function(e){return f(e)===g},u.isPortal=function(e){return f(e)===n},u.isProfiler=function(e){return f(e)===m},u.isStrictMode=function(e){return f(e)===c},u.isSuspense=function(e){return f(e)===P},u.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a||e===y||e===m||e===c||e===P||e===b||typeof e=="object"&&e!==null&&(e.$$typeof===o||e.$$typeof===g||e.$$typeof===i||e.$$typeof===l||e.$$typeof===S||e.$$typeof===_||e.$$typeof===E||e.$$typeof===D||e.$$typeof===p)},u.typeOf=f,u}var M;function te(){return M||(M=1,w.exports=re()),w.exports}var O,I;function ne(){if(I)return O;I=1;var t=te(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m={};m[t.ForwardRef]=a,m[t.Memo]=c;function i(o){return t.isMemo(o)?c:m[o.$$typeof]||r}var l=Object.defineProperty,v=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,S=Object.getOwnPropertyDescriptor,P=Object.getPrototypeOf,b=Object.prototype;function g(o,p,_){if(typeof p!="string"){if(b){var E=P(p);E&&E!==b&&g(o,E,_)}var D=v(p);y&&(D=D.concat(y(p)));for(var f=i(o),h=i(p),e=0;e<D.length;++e){var s=D[e];if(!n[s]&&!(_&&_[s])&&!(h&&h[s])&&!(f&&f[s])){var $=S(p,s);try{l(o,s,$)}catch{}}}}return o}return O=g,O}ne();var W=function(r,n,a){return r=r<=a?r:a,r=r>=n?r:n,r},ue=function(){var r=!1,n=[],a=function i(){r=!0;var l=n.shift();if(l)return l(i);r=!1},c=function(){r=!1,n=[]},m=function(l){n.push(l),!r&&n.length===1&&a()};return{clear:c,enqueue:m}},ae=function(){var r,n=function(){r&&window.cancelAnimationFrame(r)},a=function(m,i){var l,v,y=function S(P){if(v=v||P,l=P-v,l>i){m();return}r=window.requestAnimationFrame(S)};r=window.requestAnimationFrame(y)};return{cancel:n,schedule:a}},ie=function(r){var n=0;return r>=0&&r<.2?n=.1:r>=.2&&r<.5?n=.04:r>=.5&&r<.8?n=.02:r>=.8&&r<.99&&(n=.005),W(r+n,0,.994)},k=function(r){d.useEffect(r,[])},oe=function(r){return++r%1e6},se=function(){var r=d.useState(0),n=r[1];return d.useCallback(function(){return n(oe)},[])},ce=function(r){r===void 0&&(r={});var n=se(),a=d.useRef(Q({},r)),c=d.useCallback(function(){return a.current},[]),m=d.useCallback(function(i){i&&(Object.assign(a.current,i),n())},[]);return[c,m]},fe=function(){var r=d.useRef(!0);return r.current?(r.current=!1,!0):r.current},V=function(r,n){var a=fe();d.useEffect(function(){if(!a)return r()},n)},H=function(){},U={isFinished:!0,progress:0,sideEffect:H},me=function(r){var n=r===void 0?{}:r,a=n.animationDuration,c=a===void 0?200:a,m=n.incrementDuration,i=m===void 0?800:m,l=n.isAnimating,v=l===void 0?!1:l,y=n.minimum,S=y===void 0?.08:y,P=ce(U),b=P[0],g=P[1],o=d.useRef(null),p=d.useRef(null);k(function(){o.current=ue(),p.current=ae()});var _=d.useCallback(function(){var s,$;(s=p.current)==null||s.cancel(),($=o.current)==null||$.clear()},[]),E=d.useCallback(function(s){var $;if(s=W(s,S,1),s===1){var x,R;_(),(x=o.current)==null||x.enqueue(function(A){g({progress:s,sideEffect:function(){var C;return(C=p.current)==null?void 0:C.schedule(A,c)}})}),(R=o.current)==null||R.enqueue(function(){g({isFinished:!0,sideEffect:_})});return}($=o.current)==null||$.enqueue(function(A){g({isFinished:!1,progress:s,sideEffect:function(){var C;return(C=p.current)==null?void 0:C.schedule(A,c)}})})},[c,_,S,o,g,p]),D=d.useCallback(function(){E(ie(b().progress))},[b,E]),f=d.useCallback(function(){var s=function $(){var x;D(),(x=o.current)==null||x.enqueue(function(R){var A;(A=p.current)==null||A.schedule(function(){$(),R()},i)})};s()},[i,o,p,D]),h=d.useRef(H),e=b().sideEffect;return d.useEffect(function(){h.current=D}),k(function(){return v&&f(),_}),V(function(){b().sideEffect()},[b,e]),V(function(){v?g(Q({},U,{sideEffect:f})):E(1)},[v,E,g,f]),{animationDuration:c,isFinished:b().isFinished,progress:b().progress}};const le="_progressBarPageContainer_1cahj_1",pe="_progressBarPageFiller_1cahj_12",G={progressBarPageContainer:le,progressBarPageFiller:pe};function j({animationDuration:t=200,incrementDuration:r=800,inProgress:n,minimum:a,className:c,...m}){const{progress:i,isFinished:l,animationDuration:v}=me({animationDuration:t,incrementDuration:r,isAnimating:n,minimum:a});return l?null:F.jsx("div",{className:Z(G.progressBarPageContainer,c),...ee(m),children:F.jsx("div",{className:G.progressBarPageFiller,style:{"--progress":i,"--animation-duration":`${v}ms`}})})}try{j.displayName="ProgressBarPage",j.__docgenInfo={description:"Компонент индикатор загрузки страницы",displayName:"ProgressBarPage",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},inProgress:{defaultValue:null,description:"Включен/выключен",name:"inProgress",required:!0,type:{name:"boolean"}},animationDuration:{defaultValue:{value:"200"},description:"Скорость анимации",name:"animationDuration",required:!1,type:{name:"number"}},incrementDuration:{defaultValue:{value:"800"},description:"Время между прогрессом",name:"incrementDuration",required:!1,type:{name:"number"}},minimum:{defaultValue:null,description:"Минимальное значение прогресс бара от 0 до 1",name:"minimum",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}}}}}catch{}const{useArgs:de}=__STORYBOOK_MODULE_PREVIEW_API__,Ce={title:"Components/Progress Bar/Progress Bar Page",component:j},ve=({...t})=>{const[{inProgress:r},n]=de();return F.jsxs(F.Fragment,{children:[F.jsx(j,{...t,inProgress:r}),F.jsxs("div",{style:{display:"flex",gap:8},children:[F.jsx(N,{disabled:r,onClick:()=>n({inProgress:!0}),label:"start","data-test-id":"start-button-test"}),F.jsx(N,{disabled:!r,onClick:()=>n({inProgress:!1}),label:"stop","data-test-id":"stop-button-test"})]})]})},T={render:ve,args:{inProgress:!1,animationDuration:200,incrementDuration:800,minimum:.08},argTypes:{inProgress:{name:"inProgress",type:"boolean"},animationDuration:{name:"animationDuration",type:"number"},incrementDuration:{name:"incrementDuration",type:"number"},minimum:{name:"minimum",type:"number"}},parameters:{readme:{sidebar:[`Latest version: ${q.version}`,Y,X]},packageName:q.name,design:{name:"Figma",type:"figma",url:"https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=2%3A2&mode=design"}}};var L,z,K;T.parameters={...T.parameters,docs:{...(L=T.parameters)==null?void 0:L.docs,source:{originalSource:`{
  render: Template,
  args: {
    inProgress: false,
    animationDuration: 200,
    incrementDuration: 800,
    minimum: 0.08
  },
  argTypes: {
    inProgress: {
      name: 'inProgress',
      type: 'boolean'
    },
    animationDuration: {
      name: 'animationDuration',
      type: 'number'
    },
    incrementDuration: {
      name: 'incrementDuration',
      type: 'number'
    },
    minimum: {
      name: 'minimum',
      type: 'number'
    }
  },
  parameters: {
    readme: {
      sidebar: [\`Latest version: \${componentPackage.version}\`, componentReadme, componentChangelog]
    },
    packageName: componentPackage.name,
    design: {
      name: 'Figma',
      type: 'figma',
      url: 'https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=2%3A2&mode=design'
    }
  }
}`,...(K=(z=T.parameters)==null?void 0:z.docs)==null?void 0:K.source}}};export{Ce as default,T as progressBarPage};
