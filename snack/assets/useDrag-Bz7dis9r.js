import{j as s}from"./jsx-runtime-BTJTZTIL.js";import{c as B}from"./index-DUmpqB7p.js";import{r}from"./index-CJ_LmFaV.js";import{U as m}from"./constants-BAbqYu0L.js";import{e as C}from"./componentPropsProcessors-UJEZy8aQ.js";import{d as F}from"./index-D3kvmOHM.js";const j="_hidden_1jtr4_1",x="_container_1jtr4_5",N="_title_1jtr4_26",q="_description_1jtr4_36",o={hidden:j,container:x,title:N,description:q};function D({disabled:u=!1,className:c,isOver:d,onDragLeave:t,onDragOver:p,onDrop:n,mode:i=m.Multiple,description:f,title:a,onFilesUpload:v,accept:_,...y}){const E=r.useRef(null),h=()=>{var e;u||(e=E.current)==null||e.click()},A=({target:{files:e}})=>{if(!e)return;const l=Array.from(e);v(l)},g=e=>{if(u)return;e.preventDefault();const l=Array.from(e.dataTransfer.files);n==null||n(e),v(i===m.Single?[l[0]]:l)};return s.jsxs("button",{className:B(c,o.container),type:"button",...C(y),"data-over":d||void 0,"data-disabled":u||void 0,onClick:h,tabIndex:0,onDrop:g,onDragLeave:t,onDragOver:p,children:[s.jsx("h4",{"data-test-id":"title",className:o.title,children:a}),f&&s.jsx("div",{"data-test-id":"description",className:o.description,children:f}),s.jsx("input",{"data-test-id":"file-input",className:o.hidden,onChange:A,multiple:i===m.Multiple,ref:E,type:"file",accept:_,onClick:e=>{e.target.value=""}})]})}try{D.displayName="PrivateDropZone",D.__docgenInfo={description:"",displayName:"PrivateDropZone",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},isOver:{defaultValue:null,description:"",name:"isOver",required:!0,type:{name:"boolean"}},onFilesUpload:{defaultValue:null,description:"Колбек загрузки файла",name:"onFilesUpload",required:!0,type:{name:"(files: File[]) => void"}},title:{defaultValue:null,description:"Заголовок",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Описание",name:"description",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:{value:"false"},description:"Деактивирован ли компонент",name:"disabled",required:!1,type:{name:"boolean"}},mode:{defaultValue:{value:"multiple"},description:"Режим",name:"mode",required:!1,type:{name:"enum",value:[{value:'"single"'},{value:'"multiple"'}]}},accept:{defaultValue:null,description:"Показывает пользователю в открывшемся диалоговом окне файлы типов, которые вы указываете в значении атрибута",name:"accept",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS-класс",name:"className",required:!1,type:{name:"string"}}}}}catch{}function I(u){const[c,d]=r.useState(!1),t=r.useMemo(()=>F(d,5),[]),p=r.useCallback(a=>{u||(a.preventDefault(),t(!1))},[t,u]),n=r.useCallback(a=>{u||(a.preventDefault(),t(!0))},[t,u]),i=r.useCallback(a=>{u||(a.preventDefault(),t(!1))},[t,u]);return r.useEffect(()=>()=>t.cancel(),[t]),{events:{onDragLeave:p,onDragOver:n,onDrop:i},isOver:c}}export{D as P,I as u};
