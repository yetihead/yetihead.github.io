import{j as a}from"./jsx-runtime-BTJTZTIL.js";import{r as i}from"./index-CJ_LmFaV.js";import{c as z}from"./index-DUmpqB7p.js";import{u as Q}from"./index-JZGyZbA2.js";import{d as Y}from"./index-D3kvmOHM.js";import{m as Z}from"./index-B7wZyJkK.js";import{u as nn}from"./useSwipeable-DMbEt_5P.js";import{C as en}from"./index-BKaanG2n.js";import{e as K}from"./componentPropsProcessors-UJEZy8aQ.js";import{P as tn}from"./PaginationSlider-DaNlcIcS.js";import{t as an}from"./helpers-DNSUdh_x.js";import{P as un}from"./index-C9_U387z.js";import{C as S}from"./index-rkMFwXnf.js";import"./index-ChsGqxH_.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./getRange-CHNeUywO.js";import"./index-Bxu_udwM.js";import"./index-DdXvKv-Q.js";import"./index-Chjiymov.js";import"./LocaleProvider-CyhbxqE1.js";import"./index-C7IVzcIX.js";import"./index-BLj3vrxU.js";import"./index-BQAaeyfQ.js";import"./Scroll-B3e6J9cA.js";import"./useIsomorphicLayoutEffect-BAXQmlEq.js";import"./isBrowser-C2N6XvuH.js";import"./ProgressBar-DoG3l5ps.js";import"./index-6PN_JoHT.js";import"./index-C-NxZ9RO.js";import"./index-zbp_5bxn.js";import"./TruncateString-BPmgFnBz.js";import"./Tooltip-BNp3usZT.js";import"./PopoverPrivate-CnKgsFAm.js";import"./Link-CwRw2bLJ.js";import"./Sun-CLMO8Tpr.js";import"./constants-BAH7I9kc.js";import"./ButtonFilled-DhU1yp3w.js";import"./utils-Ct1D1GSP.js";import"./Counter-dO15w468.js";import"./Typography-DmSN6cv6.js";import"./ButtonTonal-BgeMe9qu.js";import"./PromoTag-CBgpLGjS.js";import"./index-DtRrUciF.js";import"./IconPredefined-yX8Rdo-2.js";import"./DropList-sYSbfSyD.js";import"./hooks-Cv-w_Cx5.js";import"./useValueControl-C51frgGe.js";import"./Checkbox-uZV6WJ28.js";import"./constants-BObEONKm.js";import"./TogglePrivate-BTSew7b5.js";import"./index-3XDw48l5.js";import"./Switch-CYqDG2NM.js";import"./Dropdown-uG1Hplv7.js";import"./index-DLGJiw2b.js";import"./index-Baw9oej9.js";import"./index-BkOiuzeN.js";import"./Divider-C1X9zrkx.js";import"./Spinner-DZPrD8kc.js";import"./ButtonFunction-DkDZEdUd.js";import"./useButtonNavigation-CVCsehRW.js";import"./useClearButton-DMWmUR1d.js";import"./constants-9uwKbtvo.js";import"./InputPrivate-C6kWfrUd.js";import"./index-CIcT2jya.js";import"./Tag-CalHVeMA.js";import"./constants-BaREPXw5.js";const cn=`# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## 0.6.3 (2025-07-15)

### Only dependencies have been changed
* [@snack-uikit/pagination@0.10.17](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
* [@snack-uikit/utils@3.10.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)





## 0.6.2 (2025-07-10)

### Only dependencies have been changed
* [@snack-uikit/icons@0.27.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
* [@snack-uikit/pagination@0.10.16](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)





## 0.6.1 (2025-07-10)

### Only dependencies have been changed
* [@snack-uikit/pagination@0.10.15](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)





# 0.6.0 (2025-07-08)


### Features

* **FF-6899:** add controlsVisibility prop ([780bf9f](https://github.com/cloud-ru-tech/snack-uikit/commit/780bf9fab6bc0c4a3487c52d68e4f13f063ecd76))





## 0.5.6 (2025-07-07)

### Only dependencies have been changed
* [@snack-uikit/icons@0.27.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
* [@snack-uikit/pagination@0.10.14](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
* [@snack-uikit/utils@3.9.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)





## 0.5.5 (2025-06-27)

### Only dependencies have been changed
* [@snack-uikit/icons@0.27.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
* [@snack-uikit/pagination@0.10.13](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)





## 0.5.4 (2025-06-16)

### Only dependencies have been changed
* [@snack-uikit/icons@0.26.4](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
* [@snack-uikit/pagination@0.10.12](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)





## 0.5.3 (2025-05-16)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.11](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.5.2 (2025-05-12)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.10](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.5.1 (2025-04-04)

### Bug Fixes

- **FF-6220:** carousel swipe behavior fixed when only single item is present per slide ([f9ac546](https://github.com/cloud-ru-tech/snack-uikit/commit/f9ac5467746f259c594aab56e9c74057b474dfd0))

# 0.5.0 (2025-03-29)

### Features

- **PDS-1119:** carousel autoswipe ([ff064ac](https://github.com/cloud-ru-tech/snack-uikit/commit/ff064acc23974c47acf2e1c3a52638fd482fecdb))

## 0.4.18 (2025-03-19)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.9](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.17 (2025-03-17)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.8](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.16 (2025-03-14)

### Only dependencies have been changed

- [@snack-uikit/icons@0.26.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.7](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.15 (2025-03-13)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.6](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.14 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.13 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.25.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.4](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.12 (2025-03-04)

### Only dependencies have been changed

- [@snack-uikit/icons@0.24.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.8.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.11 (2025-02-05)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.10 (2025-01-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.24.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.10.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.7.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.4.9 (2024-12-26)

### Bug Fixes

- **FF-5734:** eslint fixes ([5ce6f1f](https://github.com/cloud-ru-tech/snack-uikit/commit/5ce6f1f22d3ac3dd367cbdd184e5873e67837c8b))

## 0.4.8 (2024-12-18)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.10.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.7 (2024-12-17)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.6 (2024-12-12)

### Bug Fixes

- **PDS-1047:** fix carousel drag ([29b8892](https://github.com/cloud-ru-tech/snack-uikit/commit/29b8892c5448ccec6c7377cdb343b4b0cffc3998))

## 0.4.5 (2024-12-03)

### Bug Fixes

- **ONB-3090:** fixed slider behavior with showItems more than 1 ([7668b07](https://github.com/cloud-ru-tech/snack-uikit/commit/7668b07c16ba4980019c4b86111d63b5aacb4400))

## 0.4.4 (2024-11-14)

### Dependencies

- **FF-5678:** up deps classnames/uncontrollable ([8f0d645](https://github.com/cloud-ru-tech/snack-uikit/commit/8f0d645fc7eb8eaf95660cd0ae7d4b550821059b))

## 0.4.3 (2024-11-12)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.4.2 (2024-11-06)

### Bug Fixes

- **PDS-1011:** carousel item width calculation fixed ([0975a99](https://github.com/cloud-ru-tech/snack-uikit/commit/0975a99b76286a9f8adf528a0aa283cfccd0d1fc))

## 0.4.1 (2024-10-31)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.9.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

# 0.4.0 (2024-10-28)

### Features

- **FF-5782:** sass use/forward approach ([3e53869](https://github.com/cloud-ru-tech/snack-uikit/commit/3e53869ace864a7718e434b7f410c15dbd911cd5))

# 0.3.0 (2024-10-28)

### Features

- **FF-5502:** add cjs build ([ffada28](https://github.com/cloud-ru-tech/snack-uikit/commit/ffada28bfdc37ea760eb1c8759342e680bdf8dd6))

## 0.2.21 (2024-10-17)

### Bug Fixes

- **PDS-882:** scroll to partially visible slide on click ([f974fa2](https://github.com/cloud-ru-tech/snack-uikit/commit/f974fa298b3b972e4a27cb9cc5a065d92c583577))

## 0.2.20 (2024-09-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.22.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.7.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.4.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.2.19 (2024-09-07)

### Bug Fixes

- **FF-5560:** fix swipe ([12714e8](https://github.com/cloud-ru-tech/snack-uikit/commit/12714e8c0318f7aac976fe327fa830ebd37cb3ed))

## 0.2.18 (2024-08-15)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.7.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.17 (2024-08-14)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.12](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.16 (2024-08-06)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.11](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.15 (2024-07-19)

### Only dependencies have been changed

- [@snack-uikit/icons@0.22.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.10](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.14 (2024-07-03)

### Bug Fixes

- **FF-5100:** width calculation ([f8de802](https://github.com/cloud-ru-tech/snack-uikit/commit/f8de8023b23530a37d0437161619945b2f6ca958))

## 0.2.13 (2024-06-11)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.9](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.12 (2024-05-08)

### Only dependencies have been changed

- [@snack-uikit/icons@0.21.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.8](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.11 (2024-04-25)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.7](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.10 (2024-04-23)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.6](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)
- [@snack-uikit/utils@3.3.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/utils/CHANGELOG.md)

## 0.2.9 (2024-04-03)

### Bug Fixes

- **PDS-92:** remove ref for items ([5ef87bb](https://github.com/cloud-ru-tech/snack-uikit/commit/5ef87bb473bcf9525bc9f7022436668666a8dc2a))

## 0.2.8 (2024-02-28)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.5](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.7 (2024-02-20)

### Bug Fixes

- **FF-4297:** apply system-layer tokens ([7c8fd4b](https://github.com/cloud-ru-tech/snack-uikit/commit/7c8fd4b5334360b2fc31da92973b6835ffa287af))

## 0.2.6 (2024-02-05)

### Only dependencies have been changed

- [@snack-uikit/icons@0.20.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.3](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.5 (2024-02-05)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.4 (2024-01-23)

### Only dependencies have been changed

- [@snack-uikit/icons@0.20.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.6.1](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.3 (2023-12-28)

### Only dependencies have been changed

- [@snack-uikit/pagination@0.6.0](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.2 (2023-12-18)

### Only dependencies have been changed

- [@snack-uikit/icons@0.19.2](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/icons/CHANGELOG.md)
- [@snack-uikit/pagination@0.5.4](https://github.com/cloud-ru-tech/snack-uikit/blob/master/packages/pagination/CHANGELOG.md)

## 0.2.1 (2023-12-15)

### Bug Fixes

- **FF-0001:** wrong publishCongig to public ([463bb6d](https://github.com/cloud-ru-tech/snack-uikit/commit/463bb6d2729b8e78bbc76346d9bc32b8b42f3468))

# 0.2.0 (2023-12-15)

### Bug Fixes

- **FF-0000:** change wrong scope ([8416f94](https://github.com/cloud-ru-tech/snack-uikit/commit/8416f94a0860cf088ffafad529595715ea291611))

### Dependencies

- **FF-2840:** up internal deps after bad rebase ([aabc8de](https://github.com/cloud-ru-tech/snack-uikit/commit/aabc8debf8d81fb37d6ecb7580cca9d93142246f))

### Features

- **FF-3829:** add carousel ([546b37a](https://github.com/cloud-ru-tech/snack-uikit/commit/546b37a3cfe07b4bbdbd7a009a1ffc51a69f4a44))

## 0.1.1 (2023-12-14)

### Dependencies

- **FF-2840:** up internal deps after bad rebase ([aabc8de](https://github.com/cloud-ru-tech/snack-uikit/commit/aabc8debf8d81fb37d6ecb7580cca9d93142246f))

# 0.1.0 (2023-12-14)

### Features

- **FF-3829:** add carousel ([546b37a](https://github.com/cloud-ru-tech/snack-uikit/commit/546b37a3cfe07b4bbdbd7a009a1ffc51a69f4a44))

## CHANGELOG

### v0.0.0

- Initial version
`,sn="@snack-uikit/carousel",on="0.6.3",M={name:sn,version:on},rn=`# Carousel

## Installation

\`npm i @snack-uikit/carousel\`

[Changelog](./CHANGELOG.md)

[//]: DOCUMENTATION_SECTION_START
[//]: THIS_SECTION_IS_AUTOGENERATED_PLEASE_DONT_EDIT_IT
## Carousel
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| children* | \`ReactElement<any, string \\| JSXElementConstructor<any>>[]\` | - | Массив айтемов |
| className | \`string\` | - | CSS - класснейм |
| showItems | \`number\` | 1 | Кол-во отображаемых единовременно айтемов |
| scrollBy | \`number\` | Math.trunc(show) | Сдвиг айтемов при смене 1 страницы |
| transition | \`number\` | 0.4 | Время переключения 1 страницы (в s) |
| swipe | \`boolean\` | true | Переключение страниц свайпом |
| autoSwipe | \`number\` | - | Автоматическое переключение слайдов в секундах |
| swipeActivateLength | \`number\` | 48 | Минимальная длина в px для активации свайпа |
| arrows | \`boolean\` | true | Использовать стрелки для переключения страниц |
| pagination | \`boolean\` | true | Использовать пагинацию для переключения страниц |
| gap | \`string\` | var(--dimension-2m) | Расстояние между айтемами |
| state | \`{ page: number; onChange(page: number): void; }\` | - | Управление состоянием извне |
| infiniteScroll | \`boolean\` | - | Цикличная прокрутка |
| controlsVisibility | "hover" \\| "always" | hover | Управление видимостью стрелок: 'hover' — по ховеру, 'always' — всегда |


[//]: DOCUMENTATION_SECTION_END
`,G={arrowNext:"carousel__arrow-next",arrowPrev:"carousel__arrow-prev",pagination:"carousel__pagination",trackLine:"carousel__track-line",trackItem:"carousel__track-item"},dn="_control_1yam4_1",ln="_icon_1yam4_43",$={control:dn,icon:ln},V=i.forwardRef(({onClick:n,variant:e,className:o,...d},p)=>a.jsx("button",{ref:p,className:z($.control,o),onClick:n,type:"button","data-variant":e,...K(d),children:a.jsx(en,{size:24,className:$.icon})}));try{V.displayName="Control",V.__docgenInfo={description:"",displayName:"Control",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"prev"'},{value:'"next"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const mn="_itemProvider_g4tun_1",pn="_itemContainer_g4tun_20",hn="_itemTracker_g4tun_25",gn="_hiddenItem_g4tun_32",H={itemProvider:mn,itemContainer:pn,itemTracker:hn,hiddenItem:gn};function j({items:n,showItems:e,scrollBy:o,slideCallback:d,transition:p,swipe:v,swipeActivateLength:E,page:h,gap:O}){const r=i.useRef(null),[c,P]=i.useState({itemWidth:0,gap:0}),g=i.useCallback(()=>{const t=r.current;if(!t)return;const u=getComputedStyle(t),m=Number.parseFloat(u.getPropertyValue("--gap")),_=Number.parseFloat(u.getPropertyValue("padding-left")),y=Number.parseFloat(u.getPropertyValue("padding-right")),F=(t.getBoundingClientRect().width-(Math.trunc(e)-1)*m-_-y)/e;P({itemWidth:F,gap:m})},[e]);i.useEffect(()=>{const t=r.current;if(!t)return;g();const u=new ResizeObserver(Y(g,100));return u.observe(t),()=>u.disconnect()},[g]);const N=i.useRef(null),T=()=>{var t;(t=N.current)==null||t.querySelectorAll(`[data-test-id=${G.trackItem}]`).forEach(u=>{u.setAttribute("aria-hidden","0"),u.querySelectorAll('a, button, select, input, textarea, [tabindex="0"]').forEach(m=>{m.setAttribute("tabindex","-5"),m.classList.add(H.hiddenItem)})})},w=(t,u,m)=>{var _;(_=N.current)==null||_.querySelectorAll(`[data-test-id=${G.trackItem}]`).forEach((y,F)=>{F>=u*t&&F<u*t+Math.trunc(m)&&(y.removeAttribute("aria-hidden"),y.querySelectorAll('a, button, select, input, textarea, [tabindex="-5"]').forEach(L=>{L.setAttribute("tabindex","0"),L.classList.remove(H.hiddenItem)}))})},A=i.useMemo(()=>Number(-(h*o*c.itemWidth+c.gap*h*o)),[c.gap,c.itemWidth,h,o]);i.useEffect(()=>{T(),w(o,h,e)},[h,o,e]);const b=i.useCallback(t=>{var L;if(e===1)return;const u=t.currentTarget.getBoundingClientRect(),m=(L=r.current)==null?void 0:L.getBoundingClientRect(),y=((m==null?void 0:m.right)??0)-u.right;Math.min(y,u.x)<0&&d(y)},[e,d]),k=i.useMemo(()=>c.itemWidth>0?c.itemWidth:`${Math.floor(100/e)}%`,[c.itemWidth,e]),[l,f]=i.useState({drag:0,pointers:!0}),C=t=>{f({drag:t.deltaX,pointers:Math.abs(t.deltaX)<Number.MIN_SAFE_INTEGER})},I=t=>{if(Math.abs(l.drag)<E)return f({drag:0,pointers:!0});d(t.dir==="Left"?-1:1),f({drag:0,pointers:!0})},{ref:s,...q}=nn({onSwiping:C,onSwiped:I,trackMouse:!0,enabled:v,availableDirections:["Left","Right"]});return a.jsx("div",{ref:r,className:H.itemProvider,"data-pointers":!l.pointers||void 0,"data-swipe":v||void 0,"data-gap":O,style:{...O?{"--gap":O}:{}},children:a.jsx("div",{...q,className:H.itemTracker,"data-test-id":G.trackLine,style:{transform:`translateX(${A+l.drag}px)`,transition:`transform ${p}s ease 0s`},ref:Z(s,N),children:n.map((t,u)=>a.jsx("div",{style:{width:k},className:H.itemContainer,role:"group","data-test-id":G.trackItem,onClick:b,children:t},u))})})}try{j.displayName="ItemProvider",j.__docgenInfo={description:"",displayName:"ItemProvider",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}},showItems:{defaultValue:null,description:"",name:"showItems",required:!0,type:{name:"number"}},scrollBy:{defaultValue:null,description:"",name:"scrollBy",required:!0,type:{name:"number"}},slideCallback:{defaultValue:null,description:"",name:"slideCallback",required:!0,type:{name:"(direction: number) => void"}},transition:{defaultValue:null,description:"",name:"transition",required:!0,type:{name:"number"}},swipe:{defaultValue:null,description:"",name:"swipe",required:!0,type:{name:"boolean"}},swipeActivateLength:{defaultValue:null,description:"",name:"swipeActivateLength",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"string"}}}}}catch{}const bn="_carouselBase_17gga_1",kn="_control_17gga_9",fn="_carousel_17gga_1",Cn="_pagination_17gga_26",x={carouselBase:bn,control:kn,carousel:fn,pagination:Cn};function D({children:n,showItems:e=1,scrollBy:o,transition:d=.4,swipe:p=!0,arrows:v=!0,pagination:E=!0,className:h,gap:O,state:r,infiniteScroll:c=!1,swipeActivateLength:P=48,autoSwipe:g,controlsVisibility:N="hover",...T}){const w=i.useRef(),A=i.useMemo(()=>o??Math.trunc(e),[e,o]),[b,k]=Q(r==null?void 0:r.page,(r==null?void 0:r.page)??0,s=>{const q=typeof s=="function"?s(b):s;r==null||r.onChange(q)}),l=i.useMemo(()=>n.length<=e?1:1+Math.ceil((n.length-e)/A),[n.length,A,e]),f=i.useCallback(()=>{k(s=>c?(l+s-1)%l:Math.max(0,s-1))},[c,k,l]),C=i.useCallback(()=>{k(s=>c?(s+1)%l:Math.min(l-1,s+1))},[c,k,l]),I=i.useCallback(s=>{if(s<0){C();return}f()},[f,C]);return i.useEffect(()=>{if(!(!g||!c))return w.current=setTimeout(()=>C(),g*1e3),()=>clearTimeout(w.current)},[g,c,C]),a.jsxs("div",{className:z(x.carousel,h),"data-controls-visibility":N,...K(T),children:[a.jsxs("div",{className:x.carouselBase,children:[a.jsx(j,{showItems:e,scrollBy:A,swipe:p,transition:d,items:n,slideCallback:I,page:b,gap:O,swipeActivateLength:P}),v&&a.jsxs(a.Fragment,{children:[(c||b>0)&&a.jsx(V,{onClick:f,variant:"prev","data-test-id":G.arrowPrev,className:x.control}),(c||b+1<l)&&a.jsx(V,{onClick:C,variant:"next","data-test-id":G.arrowNext,className:x.control})]})]}),E&&a.jsx("div",{className:x.pagination,children:a.jsx(tn,{"data-test-id":G.pagination,page:b+1,onChange:s=>{k(s-1)},total:l})})]})}try{D.displayName="Carousel",D.__docgenInfo={description:"",displayName:"Carousel",props:{"data-test-id":{defaultValue:null,description:"",name:"data-test-id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS - класснейм",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Массив айтемов",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}},showItems:{defaultValue:{value:"1"},description:"Кол-во отображаемых единовременно айтемов",name:"showItems",required:!1,type:{name:"number"}},scrollBy:{defaultValue:{value:"Math.trunc(show)"},description:"Сдвиг айтемов при смене 1 страницы",name:"scrollBy",required:!1,type:{name:"number"}},transition:{defaultValue:{value:"0.4"},description:"Время переключения 1 страницы (в s)",name:"transition",required:!1,type:{name:"number"}},swipe:{defaultValue:{value:"true"},description:"Переключение страниц свайпом",name:"swipe",required:!1,type:{name:"boolean"}},autoSwipe:{defaultValue:null,description:"Автоматическое переключение слайдов в секундах",name:"autoSwipe",required:!1,type:{name:"number"}},swipeActivateLength:{defaultValue:{value:"48"},description:"Минимальная длина в px для активации свайпа",name:"swipeActivateLength",required:!1,type:{name:"number"}},arrows:{defaultValue:{value:"true"},description:"Использовать стрелки для переключения страниц",name:"arrows",required:!1,type:{name:"boolean"}},pagination:{defaultValue:{value:"true"},description:"Использовать пагинацию для переключения страниц",name:"pagination",required:!1,type:{name:"boolean"}},gap:{defaultValue:{value:"var(--dimension-2m)"},description:"Расстояние между айтемами",name:"gap",required:!1,type:{name:"string"}},state:{defaultValue:null,description:"Управление состоянием извне",name:"state",required:!1,type:{name:"{ page: number; onChange(page: number): void; }"}},infiniteScroll:{defaultValue:{value:"false"},description:"Цикличная прокрутка",name:"infiniteScroll",required:!1,type:{name:"boolean"}},controlsVisibility:{defaultValue:{value:"hover"},description:"Управление видимостью стрелок: 'hover' — по ховеру, 'always' — всегда",name:"controlsVisibility",required:!1,type:{name:"enum",value:[{value:'"hover"'},{value:'"always"'}]}}}}}catch{}const yn={HiddenPageCounter:"carousel__hidden-page-counter"},Gn=""+new URL("ImageProdContentBackground-C3l1NiPg.jpg",import.meta.url).href,En=n=>{n.stopPropagation(),an.userAction.neutral({label:"Button clicked"})},vn={button:{label:"Label text",onClick:En},volume:{currentValue:"999 999,00",oldValue:"1 000 000,00",dimension:"₽"}},On={metadata:"Metadata truncate 1 line",description:"Description truncate 2 lines",body:"Body text written in several lines",icon:un};function R({title:n}){const{body:e,description:o,metadata:d,icon:p}=On;return a.jsx(S,{image:a.jsx(S.Image,{mode:"background",alt:"alt",src:Gn}),header:a.jsx(S.Header,{title:n,description:o,metadata:d,emblem:{icon:p}}),footer:a.jsx(S.Footer.Promo,{...vn}),outline:!0,children:e})}try{R.displayName="StoryCard",R.__docgenInfo={description:"",displayName:"StoryCard",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}const Nn="_wrapper_1f41p_1",An="_hiddenPageCounter_1f41p_6",W={wrapper:Nn,hiddenPageCounter:An},qe={title:"Components/Carousel",component:D},_n=({page:n,itemsCount:e,...o})=>{const[d,p]=i.useState(n?n-1:0);return i.useEffect(()=>{p(n?n-1:0)},[n]),a.jsxs("div",{className:W.wrapper,children:[a.jsx(D,{...o,state:{page:d,onChange:p},children:Array.from({length:e||12}).map((v,E)=>a.jsx(R,{title:`Item ${E+1}`},E))}),a.jsx("span",{"data-test-id":yn.HiddenPageCounter,className:W.hiddenPageCounter,children:d+1})]})},B={render:_n,args:{showItems:2.5,scrollBy:2,transition:.4,swipe:!0,arrows:!0,pagination:!0,infiniteScroll:!0,autoSwipe:5,itemsCount:12,page:1,controlsVisibility:"hover"},argTypes:{page:{name:"[Story]: pagination page as controlled state"},itemsCount:{name:"[Story]: count demo cards"}},parameters:{readme:{sidebar:[`Latest version: ${M.version}`,rn,cn]},packageName:M.name,design:{name:"Figma",type:"figma",url:"https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=44%3A7537&mode=design"}}};var U,X,J;B.parameters={...B.parameters,docs:{...(U=B.parameters)==null?void 0:U.docs,source:{originalSource:`{
  render: Template,
  args: {
    showItems: 2.5,
    scrollBy: 2,
    transition: 0.4,
    swipe: true,
    arrows: true,
    pagination: true,
    infiniteScroll: true,
    autoSwipe: 5,
    itemsCount: 12,
    page: 1,
    controlsVisibility: 'hover'
  },
  argTypes: {
    page: {
      name: '[Story]: pagination page as controlled state'
    },
    itemsCount: {
      name: '[Story]: count demo cards'
    }
  },
  parameters: {
    readme: {
      sidebar: [\`Latest version: \${componentPackage.version}\`, componentReadme, componentChangelog]
    },
    packageName: componentPackage.name,
    design: {
      name: 'Figma',
      type: 'figma',
      url: 'https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=44%3A7537&mode=design'
    }
  }
}`,...(J=(X=B.parameters)==null?void 0:X.docs)==null?void 0:J.source}}};export{B as carousel,qe as default};
